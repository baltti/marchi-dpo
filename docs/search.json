[
  {
    "objectID": "remote-sensing-data.html",
    "href": "remote-sensing-data.html",
    "title": "Открытые данные дистанционного зондирования",
    "section": "",
    "text": "Подготовлено на основе материалов портала Gis-lab.\nОдним из основных источников материалов ДЗЗ, в том числе и бесплатных, является архив Геологической службы (ГС) США (USGS - United States Geological Survey). Доступ к нему возможен как для простого просмотра каталога, так и для непосредственного получения хранимых в нём материалов.",
    "crumbs": [
      "Источники данных о территории",
      "Открытые данные дистанционного зондирования"
    ]
  },
  {
    "objectID": "remote-sensing-data.html#footnotes",
    "href": "remote-sensing-data.html#footnotes",
    "title": "Открытые данные дистанционного зондирования",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nИсточники: https://www.usgs.gov/faqs/what-are-best-landsat-spectral-bands-use-my-research, https://innoter.com/sputniki/landsat-8/↩︎\nСтандартные уровни обработки и форматы представления данных ДЗЗ из космоса. Мировой опыт - https://sovzond.ru/upload/iblock/487/2009_04_002.pdf↩︎",
    "crumbs": [
      "Источники данных о территории",
      "Открытые данные дистанционного зондирования"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ДПО для студентов МАрxИ",
    "section": "",
    "text": "Курс для студентов магистратуры МАрхИ.\nКурс описывает источники данных, которые могут применяться для градостроительного анализа и некоторые цифровые инструменты, позволяющие исследовать территорию и ее изменения во времени.",
    "crumbs": [
      "О курсе"
    ]
  },
  {
    "objectID": "vectorisation.html",
    "href": "vectorisation.html",
    "title": "Оцифровка материалов",
    "section": "",
    "text": "В качестве исходной информации при векторизации, как правило, выступают растровые изображения. Это могут быть отсканированные оригиналы бумажных карт, выдержки из официальной документации, информация с градостроительных порталов, из градостроительной документации, спутниковые снимки или снимки, полученные с беспилотных летательных аппаратов, даже просто скриншоты экрана, а также тайловые подложки (типа той, что мы подгружаем из OpenStreetMap).\nГеопривязка растра - это присвоение растровому изображению нужной географической системы координат.\nВ процессе привязки на растровом изображении для каждого пикселя, у которого есть условные координаты на растре, находится соотвествующая координата в целевой системе координат.\nВ качестве исходных данных возьмем информацию с Градостроительного портала Санкт-Петербурга https://portal.kgainfo.spb.ru/KGAMap/Map\n\nЭтот портал позволяет получать информацию из градостроительной документации Санкт-Петербурга, но только в растровом виде, выгрузки границ объектов в векторных форматах здесь не предусмотрено. Поэтому, если вы хотите воспользоваться данными портала, вам нужно будет из самостоятельно векторизовать.\nРассмотрим пример сохранения растровой картинки с границами функциональной зоны.\nДля этого найдем на карте интересующую нас зону, щелкнем на нее, чтобы получить информацию об объектах в точке.\n\nДалее выберем фунцию печати информации об функциональной зоне, после чего в новой вкладке откроется отчет с подробной информацией и схемой расположения объекта.\nПросто сохраним картинку из отчета, чтобы в дальнейшем открыть ее в QGIS, выполнить геопривязку и осуществить векторизацию.\nСоздадим новый проект (рекомендую либо сразу его создавать в системе координат EPSG:3857, либо сразу после создания перепроецировать на лету в эту систему координат).\nДля геопривязки растровых изображений в QGIS существует встроенный инструмент Georeferencer (может называться Геопривязка).\n\nДалее откроется окно геопривязки растра.\n\nВ первую очередь нужно задать или проверить параметры трансформации растра (в строке меню Параметры — Параметры трансформации).\n\nОсновные параметры здесь:\n\nтип трансформации - алгоритм преобразования растрового изображения, подробнее здесь;\nметод интерполяции;\nцелевая система координат - система координат, которую вы хотите присвоить растру;\nцелевой растр - нужно указать путь и название файла, полученного в результате привязки.\n\nДля выполнения привязки нужно открыть растр , указать контрольные точки и их координаты в целевой системе координат.\n\nКонтрольные точки - это точки, по которым будет осуществляться привязка растрового изображения. У этих точек известны координаты на растровом изображении (как правило, в пикселях) и в целевой системе координат, то есть фактически по этим точкам растр “усаживается” в нужное место на карту.\nЧтобы поставить контрольную точку, нужно щелкнуть на нее в окне привзяки на растре, а далее указать ее координаты в диалоговом окне.\n\nКоординаты можно ввести с клавиатуры (если они у вас есть), либо выбрать вариант С карты и просто щеклнуть на ту же самую точку на карте, после чего эти координаты пропишутся в диалоговом окне автоматически.\nВ качестве контрольных точек лучше всего использовать какие-то жесткие контура, на которых вы однозначно можете указать конкретную точку: угол дома, перекресток, угол парка и что-нибудь подобное.\nДля различных вариантов трансформации рекомендуется разное минимальное число контрольных точек, но, как правило, общая рекомендация использовать не менее 3 точек. Желательно, чтобы эти точки не были расположены на одной линии.\nПосле того, как вы укажете все контрольные точки и их координаты на карте, они будут отображены в таблице под растровым изображением в окне привязки.\n\nКонтрольные точки привязки можно сохранить и потом использовать в дальнейшем в других проектах (но только для того же самого растра).\nДля завершения процесса привязки нужно нажать Начать привязку растра  после чего растр будет модифицирован и отобразиться в нужном месте на карте.\n\nЭтот модифицированный растр уже будет иметь в себе сведения о системе координат и его местоположении, поэтому его потом можно будет использовать в дальнейших проектах уже без процесса привязки."
  },
  {
    "objectID": "vectorisation.html#georeferencing",
    "href": "vectorisation.html#georeferencing",
    "title": "Оцифровка материалов",
    "section": "",
    "text": "В качестве исходной информации при векторизации, как правило, выступают растровые изображения. Это могут быть отсканированные оригиналы бумажных карт, выдержки из официальной документации, информация с градостроительных порталов, из градостроительной документации, спутниковые снимки или снимки, полученные с беспилотных летательных аппаратов, даже просто скриншоты экрана, а также тайловые подложки (типа той, что мы подгружаем из OpenStreetMap).\nГеопривязка растра - это присвоение растровому изображению нужной географической системы координат.\nВ процессе привязки на растровом изображении для каждого пикселя, у которого есть условные координаты на растре, находится соотвествующая координата в целевой системе координат.\nВ качестве исходных данных возьмем информацию с Градостроительного портала Санкт-Петербурга https://portal.kgainfo.spb.ru/KGAMap/Map\n\nЭтот портал позволяет получать информацию из градостроительной документации Санкт-Петербурга, но только в растровом виде, выгрузки границ объектов в векторных форматах здесь не предусмотрено. Поэтому, если вы хотите воспользоваться данными портала, вам нужно будет из самостоятельно векторизовать.\nРассмотрим пример сохранения растровой картинки с границами функциональной зоны.\nДля этого найдем на карте интересующую нас зону, щелкнем на нее, чтобы получить информацию об объектах в точке.\n\nДалее выберем фунцию печати информации об функциональной зоне, после чего в новой вкладке откроется отчет с подробной информацией и схемой расположения объекта.\nПросто сохраним картинку из отчета, чтобы в дальнейшем открыть ее в QGIS, выполнить геопривязку и осуществить векторизацию.\nСоздадим новый проект (рекомендую либо сразу его создавать в системе координат EPSG:3857, либо сразу после создания перепроецировать на лету в эту систему координат).\nДля геопривязки растровых изображений в QGIS существует встроенный инструмент Georeferencer (может называться Геопривязка).\n\nДалее откроется окно геопривязки растра.\n\nВ первую очередь нужно задать или проверить параметры трансформации растра (в строке меню Параметры — Параметры трансформации).\n\nОсновные параметры здесь:\n\nтип трансформации - алгоритм преобразования растрового изображения, подробнее здесь;\nметод интерполяции;\nцелевая система координат - система координат, которую вы хотите присвоить растру;\nцелевой растр - нужно указать путь и название файла, полученного в результате привязки.\n\nДля выполнения привязки нужно открыть растр , указать контрольные точки и их координаты в целевой системе координат.\n\nКонтрольные точки - это точки, по которым будет осуществляться привязка растрового изображения. У этих точек известны координаты на растровом изображении (как правило, в пикселях) и в целевой системе координат, то есть фактически по этим точкам растр “усаживается” в нужное место на карту.\nЧтобы поставить контрольную точку, нужно щелкнуть на нее в окне привзяки на растре, а далее указать ее координаты в диалоговом окне.\n\nКоординаты можно ввести с клавиатуры (если они у вас есть), либо выбрать вариант С карты и просто щеклнуть на ту же самую точку на карте, после чего эти координаты пропишутся в диалоговом окне автоматически.\nВ качестве контрольных точек лучше всего использовать какие-то жесткие контура, на которых вы однозначно можете указать конкретную точку: угол дома, перекресток, угол парка и что-нибудь подобное.\nДля различных вариантов трансформации рекомендуется разное минимальное число контрольных точек, но, как правило, общая рекомендация использовать не менее 3 точек. Желательно, чтобы эти точки не были расположены на одной линии.\nПосле того, как вы укажете все контрольные точки и их координаты на карте, они будут отображены в таблице под растровым изображением в окне привязки.\n\nКонтрольные точки привязки можно сохранить и потом использовать в дальнейшем в других проектах (но только для того же самого растра).\nДля завершения процесса привязки нужно нажать Начать привязку растра  после чего растр будет модифицирован и отобразиться в нужном месте на карте.\n\nЭтот модифицированный растр уже будет иметь в себе сведения о системе координат и его местоположении, поэтому его потом можно будет использовать в дальнейших проектах уже без процесса привязки."
  },
  {
    "objectID": "vectorisation.html#ручная-векторизация",
    "href": "vectorisation.html#ручная-векторизация",
    "title": "Оцифровка материалов",
    "section": "2 Ручная векторизация",
    "text": "2 Ручная векторизация\nВекторизация - процесс получения векторных географических данных. Как правило, имеется ввиду процесс получения на основе исходных растровых данных (сканированные карты, информация по официальным запросам, градостроительная документация и прочее).\n\n2.1 Создание нового слоя и добавление в него объектов\nВо всех предыдущих заданиях мы использовали уже готовые слои, которые просто добавляли в проект, но мы можем создавать и отрисовывать слои самостоятельно.\nДля того, чтобы создать новый векторный слой в строке меню нужно выбрать Файл - Создать слой - Создать новый Geopackage слой.\n\nПосле этого появится окно, в котором нужно задать имя файла, тип геометрии, систему координат, а также структуру таблицы атрибутов.\n\nВ качестве примера рассмотрим отрисовку домов, в атрибутивной таблице будут два поля: адрес и количество проживающих.\n\n\n\n\n\n\n\nNote\n\n\n\nНа этом этапе вы можете не создавать конкретную структуру таблицы атрибутов, так как вы всегда можете ее отредактировать позднее. По умолчанию будет создано 1 поле fid, которое будет заполнено автоматически номерами объектов.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nРекомендую все файлы и названия полей делать латиницей, потому что QGIS может не всегда корректно работать с данными, путь к которым прописан русскими буквами, а также с русскими названиями полей.\nТакже следует помнить, что названия файлов и слоев, а также названия полей в атрибутивной таблице лучше делать осмысленными, чтобы вы потом могли понять, что содержится в ваших данных.\nЕсли вы не уверены в том, какие атрибуты вам нужны, то помните, что вы всегда можете отредактировать таблицу атрибутов уже после создания слоя и отрисовки объектов.\n\n\nПосле того, как вы создадите слой, то он появится у вас в списке слоев, но, конечно, никаких объектов на карту не добавится, потому что они пока не отрисованы.\nДля начала отрисовки объектов в слое необходимо включить режим редактирования.\n\nПосле включения режима редактирования на панели инструментов станут активными кнопки создания объектов и редактирования вершин  (так как у нас слой с площадными объектами, то предлагается только создания полигонов и их редактирование, если бы был другой тип геометрии инструменты были бы немного другими).\nДля начала отрисовки объекта нужно щелкнуть на первую точку полигона, а потом по всем поворотным, завершается отрисовка контура щелчком правой кнопкой мыши.\n\nПо умолчанию в программе стоит настройка открывать окно ввода атрибутов для каждого созданного объекта.\n\nВ этом окне можно ввести характеристики объектов сразу, либо оставить пустым, просто нажав кнопку ОК (если вы здесь нажмете кнопку Отмена, то объект не будет создан).\nАвтоматическое появление формы ввода можно отключить в настройках программы.\n\n\n\n2.2 Прилипание объектов\nПри отрисовке некоторых объектов важно, чтобы между ними были общие точки, общие границы, не было наложений или наоборот дырок между объектами. Для того, чтобы соблюдать эти правила, нужно пользоваться инструментами прилипания.\n\nНа панели инструментов прилипания доступны следующие функции (слева направо)\n\n\nразрешить прилипание;\nвыбор слоев, для которых будет доступно прилипание: все слои - прилипание будет осуществляться с учетом объектов всех слоев, которые есть в проекте (даже невидимых в данный момент), активный слой - прилипание будет осуществляться только для объектов текущего слоя.\n\n\n\nтип объектов, к которым осуществляется прилипание (может быть выбрано сразу несколько вариантов):\n\nк вершинам - прилипание только к узловым точкам;\nк линиям - прилипание к любой точке линии;\nк поверхности - прилипание к любой точке внутри полигона;\nк центроиду - прилипание к геометрическому центру полигона;\nсередина отрезка - прилипание только к середине линии;\nконечные точки линии - прилипание только к начальной или конечной точке линии.\n\n\n\n\nпорог прилипания - то есть, в какой области вокруг курсора будет искаться объект для прилипания;\nтопологическое редактирование позволяет сохранять общие границы между объектами. Если эта опция включена, то программа будет автоматически перестраивать общую границу для двух объектов (если таковая граница есть);\nдопустимы ли наложения между объектами \nразрешать прилипание к пересечениям - прилипание будет осуществляться к пересечениям двух объектов, даже если там нет вершины;\nтрассирование (tracing) - позволяет ускорить привязку к линейным объектам, при включении этой опции вам не нужно будет прощелкивать по всей линии, достаточно будет нескольких точек (если установаить значение отступа offset, то можно построить линию, параллельную существующей);\nсамоприлипание - позволяет осуществлять привязку отрисовываемого объекта к самому себе.\n\n\n\n\n2.3 Редактирование объектов\n\n2.3.1 Редактирование формы объектов\nДля редактирования формы объектов следует пользоваться инструментом работы с вершинами \n\nТакже для редактирования объектов есть целый ряд функций, представленных в пункте Правка \\(\\longrightarrrow\\) Редактировать геометрию строки меню.\n\n\n\n2.3.2 Перемещение объекта\n\n\n\n2.3.3 Поворот объекта\n\n\n\n2.3.4 Разбивка объекта\n\n\n\n2.3.5 Преобразование объекта в кольцо\n\n\n\n\n\n\n\nNote\n\n\n\nБолее подробно с функциями редактирования векторных объектов можно ознакомиться в документации по ссылке\n\n\n\n\n\n\n\n\nTip\n\n\n\nБолее подробно с функциями редактирования векторных объектов можно ознакомиться в документации по ссылке\n\n\n\n\n\n\n\n\nTip\n\n\n\nДля удобства дополнительный инструменты оцифровки можно включить из строки меню Вид \\(\\longrightarrow\\) Панели инструментов \\(\\longrightarrow\\) Дополнительные инструменты оцифровки (и Панель инструментов оцифровки).\n\n\n\n\n\nДополнительные инструменты оцифровки включают в себя инструменты, входящие в группу инструментов изменения геометрии.\n\n\n\n\n\nПанель инструментов оцифровки включает в себя инструменты создания геометрических объектов определенной формы: эллипсы, прямоугольники и многоугольники.\n\n\n\n\n\nТакже есть еще одна панель дополнительных инструментов оцифровки, открываемая из пункта меню Вид \\(\\longrightarrow\\) Панели \\(\\longrightarrow\\) Дополнительные инструменты оцифровки.\n\n\n\n\n\nОткрытая таким образом панель позволяет создавать геометрические объекты по их параметрам: задавая длины линий, углы между линиями и прочее. Подробнее про нее прочитать можно в документации."
  },
  {
    "objectID": "vectorisation.html#автоматическая-векторизация",
    "href": "vectorisation.html#автоматическая-векторизация",
    "title": "Оцифровка материалов",
    "section": "3 Автоматическая векторизация",
    "text": "3 Автоматическая векторизация\n\n3.1 Встроенные стредства QGIS\nПо умолчанию в QGIS есть инструмент преобразования растра в вектор, то есть автоматической векторизации.\nЭтот инструмент может быть запущен из строки меню Растр \\(\\longrightarrow\\) Преобразование \\(\\longrightarrow\\) Создание полигонов (растр в вектор).\n\n\n\n\n\nС документацией можно ознакомиться по ссылке.\nПример работы автоматического векторизатора показан ниже.\n\n\n\n\n\n\n\nImportant\n\n\n\nТак как автоматическая векторизация здесь осуществляется фактически только по цвету пикселей вашего растра, то идеальным случаем для векторизации будут большие полигоны с равномерной заливкой и без контура, в других случаях вы можете получить слишком много маленьких полигонов, которые будут требовать дополнительной проработки и объединения.\nТакже следует отметить, что полученные полигоны не будут иметь гладкие и ровные стороны, а будут своеобразными “лесенками”, в силу того, что пиксели напрямую преобразовываются в объекты.\n\n\n\n\n3.2 Модуль Bunting labs AI\nСтраница модуля: https://plugins.qgis.org/plugins/buntinglabs-qgis-plugin/\nСайт модуля: https://buntinglabs.com/solutions/ai-vectorizer-qgis-plugin\nРепозиторий с кодом: https://github.com/BuntingLabs/buntinglabs-qgis-plugin\nВ январе 2024 года компания Bunting Labs выпустила плагин для QGIS Bunting Labs AI Vectorizer, который помогает оцифровывать растры, продолжая линии, начатые пользователем. Разработчики называют это “автозаполнением”, потому что плагин не делает всю работу сразу, а дорисовывает части линий на основе контекста, оставляя пользователю возможность в любой момент перехватить контроль.1\nПлагин AI Vectorizer работает так: когда пользователь начинает отрисовывать векторный объект, модель “смотрит” на его действия и продолжает эту линию, независимо от ее значения.\nПользователь начинает оцифровывать линию или полигон по растру, и как только есть первые две вершины, маленький кусочек карты отправляется на сервер. Модель “смотрит” на нарисованный на карте отрезок и выбирает пиксели, по которым должны проходить следующие вершины, после чего плагин дорисовывает 50 следующих точек линии. Этот процесс подходит для любых линий, даже для пунктирных и тех, которые пересекают другие похожие объекты. А если плагин собьется с пути, можно просто отменить последний шаг и не терять при этом много времени.\nПеред работой необходимо зарегистрировать аккаунт по ссылке. После этого вам на указанную в форме электронную почту придет письмо для активации аккаунта.\nДалее следует установить модуль Bunting Labs AI Vectorizer.\n\n\n\n\n\n\n\nWarning\n\n\n\nСудя по всему модуль теперь работает бесплатно только в течение 30 дней с момента активации работы с ним.\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nТакже в модуль входит сервис привязки с использованием искусственного интеллекта https://buntinglabs.com/solutions/ai-georeferencer."
  },
  {
    "objectID": "vectorisation.html#footnotes",
    "href": "vectorisation.html#footnotes",
    "title": "Оцифровка материалов",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nПлагин для AI-оцифровки растров в QGIS - https://cartetika.ru/tpost/4dta8sa621-plagin-dlya-ai-otsifrovki-rastrov-v-qgis↩︎"
  },
  {
    "objectID": "Data-sources.html",
    "href": "Data-sources.html",
    "title": "Открытые источники данных",
    "section": "",
    "text": "OpenStreetMap (OSM) — проект, который создаёт и предоставляет свободные географические данные, дает возможность создавать карты любому пользователю. Каждый желающий может поучаствовать в проекте (загружать свои треки на сервер, дорисовывать общедоступную карту по спутниковым снимкам Bing, MapBox, DigitalGlobe (весь мир), IRS (запад России), SPOT4 (восток России) и SPOT (Белоруссия) от Космоснимки.ру, ASTER (Россия), OrbView-3 и другими) и использовать эти карты совершенно свободно, и бесплатно в отличие от многих других карт, даже бесплатных, свободное использование которых ограничено.\nКарты этого проекта очень широко используются как в некоммерческих целях, например, для исследовательских проектов, так и для коммерческих проектов, например, создания навигационных приложений.\nВот очень любопытный прецедент использования OSM в нашей стране.\n\n\n\n\n\n\nCaution\n\n\n\nБезусловно следует помнить, что OSM как источник данных весьма и весьма несовершенен, так как заполняется пользователями, однако он продолжает оставаться самым большим набором пространственных данных в мире.\n\n\n\n\nОдин из самых простых способов скачивания пространственных данных с OSM - это использование сервиса http://overpass-turbo.eu/.\nЕсть еще вот такой сервис русскоязычный, но там довольно много ограничений в бесплатной версии.\nПодробная информация о сервисе https://wiki.openstreetmap.org/wiki/Overpass_turbo\nДля создания запросов используется собственный язык запросов Overpass QL (Overpass Query Language)1.\nЕсть несколько различных типов формулировок Overpass QL . Они сгруппированы в:\n\nПараметры, которые являются необязательными глобальными переменными, устанавливаются в первом операторе запроса. Примерами настроек являются тайм-аут сервера для сервера Overpass API и формат вывода запроса Overpass QL.\nОператоры блока : операторы блока группируют операторы Overpass QL вместе.\nАвтономные запросы: это самостоятельные полные утверждения. Они могут выполнять такие функции, как запрос к серверу Overpass API для создания набора; манипулирование содержимым существующего набора; или отправка конечных результатов запроса в место вывода. Автономные запросы сами по себе состоят из более мелких языковых компонентов Overpass QL, таких как оценщики, фильтры и операторы.\n\nНа самом деле, чтобы составить запрос вам не обязательно знать все тонкости языка запросов. Вот основные моменты, которые необходимы для запроса:\n\nто, как объекты обозначаются в OSM - ключ и его значение;\nтип объектов (не обязательно, а только, если вы хотите выгружать конкретный тип объектов - точки, линии или полигоны);\nохват территории поиска - bounding box (по умолчанию задается по видимой части карты в правой половине окна, но можно задать непосредственно в запросе или выбрать вручную на карте).\n\nПодробная информация о том, какие объекты как обозначаются в OpenStreetMap. На этой странице можно искать нужный вам тип объектов, чтобы составить запрос.\nВ левой части окна будет отображаться выполняемый запрос, а в правой результаты этого запроса. По умолчанию поиск осуществляется в той области, которая отображается в правой части окна (это можно скорректировать более сложными запросами, см. справку о сервисе).\n\nДля составления запросов используется помощник. Обратите внимание, что в нем сразу можно использовать логические операторы.\n\n\nДля примера можно найти и загрузить данные по многоквартирным жилым домам (building=apartments) и основным магистральным улицам (highway=primary or highway=secondary or highway=tertiary, то есть центральные магистрали, основные магистрали районов и основные микрорайонные или межмикрорайонные транзитные улицы) в Санкт-Петербурге.\n\nПервый запрос по поиску жилых домов выглядит примерно так. Обратите внимание, что я убрала пункт node, чтобы у нас не производился поиск точечных объектов.\n\nВ результате запроса получим объекты на карте.\n\nПо умолчанию поиск объектов производится внутри видимой области карты в правой части окна, но с помощью кнопок управления, расположенных в этой части окна вы можете выбрать, например, прямоугольную область поиска.\n\n\nВ нижнем правом углу окна видно, сколько объектов какого типа было найдено, а сколько отображено.\nЭспортируем результаты себе на компьютер для дальнейшей работы с ними в QGIS. Для этого нужно нажать кнопку Экспорт, после чего появится диалоговое окно экспорта.\n\nДанные можно сохранить себе в формате geojson, о котором говорилось в предыдущем разделе @ref(formats), кроме этого формата данные также можно скачать в GPX, KML, в виде сырых данных, а также в виде данных для редактирования OSM.\nПредварителльно проверим свой файл в сервисе geojson.io.\nЗдесь достаточно будет просто перетащить ваш файл в правую часть окна. Если с файлом все в порядке и геометрия валидна, то на карте должны отобразиться объекты, а в правой части будет структура geojson файла.\n\nОткроем полученные данные в QGIS.\nДобавление слоя осуществляется через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить векторный слой.\n\nДалее в диалоговом окне нужно указать путь к файлу.\n\n\nНа самом деле не обязательно пользоваться строкой меню и ее пунктом Слой, все то же самое можно делать через окно Браузер в левой части интерфейса. Это скорее вопрос привычки.\nНо нужно помнить, что процесс открытия через строку меню более контролируемый.\n\nЕсли вы открыли новый проект, то в нем нужно выполнить перепроецирование на лету и добавить подложку.\nВ результате должно получиться что-то подобное.\n\n\n\nКарта с добавленной подложкой и слоями жилых многоквартирных домов и супермаркетов\n\n\n\n\n\nКарта с добавленными слоями жилых многоквартирных домов, улиц и супермаркетами\n\n\nВ таблицах атрибутов будет содержаться информация об объектах, которая внесена в OSM.\nОткрыть таблицу атрибутов слоя можно из контекстного меню, которое открывается правым кликом на название слоя.\n\n\nАтрибуты - это те характеристики объектов, которые не являются пространственными.\n\nТаблица атрибутов открывается в отдельном окне.\n\nПри необходимости мы можем добавлять и удалять отдельные поля, а также осуществлять операции между полями (об этом чуть подробнее будет на следующих занятиях).\nДля добавления и удаления полей нужно включить режим редактирования таблицы в ее панели инструментов (значок ). После этого в панели инструментов таблицы станут активными кнопки добавления и удаления полей .\nПри удалении полей следует просто выбрать поля, которые вы собираетесь удалить в перечне (можно выделять сразу несколько названий полей, используя кнопки Shift и CTRL).\nПри добавлении нового поля обязательно нужно задать его имя и тип данных, которые будут в нем храниться.\n\n\n\n\nКроме непосредственного использования сервиса можно скачивать данные OSM напрямую из QGIS с помощью модуля QuickOSM.\n\nПосле установки модуля на панели инструментов появятся два значка , левый из которых запускает окно поиска и загрузки данных из OSM, а правый позволяет удаленно подключаться к редактированию OSM через редактор JOSM2.\nОкно модуля по умолчанию открывается на вкладке Быстрый запрос.\n\nКнопка Помощью с ключами/значениями открывает страницу с документацией модуля https://docs.3liz.org/QuickOSM/\nНа второй строке находятся строка выбора пресетов (Preset) - готовый запросов по поиску объектов, поэтому если вы не очень уверены в том, как какие-либо объекты обозначаются, но знаете, какие вам нужны, можно попробовать найти уже готовый запрос здесь.\nСразу под этой строкой находится таблица, где вы можете выбирать конкретные ключи и их значения.\n\n\n\n\n\n\nTip\n\n\n\nЗапрос может включать в себя сразу несколько пар ключ/значение, но в этом случае части запроса должны быть связаны одним из логических операторов AND или OR.\nГлавное отличие в применении этих операторов состоит в том, что при выборе AND поиск объектов будет осуществляться с учетом того, что все части запроса должны выполняться одновременно.\nПри использовании оператора OR будет производится поиск объектов, удовлетворяющих хотя бы одному условию из заданных.\n\n\nСразу под таблицей необходимо задать область поиска:\n\n\nВ - поиск в заданном населенном пункте;\nВокруг - поиск в заданном радиусе вокруг населенного пункта;\nПокрывать холст - поиск в пределах видимой в основном окне программы части карты;\nПокрывать слой - поиск в пределах охвата конкретного слоя (необходимо выбрать нужный слой);\nНе пространственные - не заданная конкретная область, поэтому поиск будет производиться во всех данных OSM вне зависимости от местоположения.\n\nСвой запрос вы можете сохранить в виде пресета (Save query in a new preset), просмотреть его (Показать запрос) и Выполнить запрос.\nПри нажатии на кнопку Показать запрос у вас откроется вкладка Запрос, где текст вашего запроса будет показан на языке запросов Overpass аналогично тому, как было рассмотрено выше.\n\nПри желании, запрос можно писать прямо здесь.\nВ пункте Query history на вкладке Быстрый запрос у вас будут отображаться уже сделанные вами запросы.\nВ дополнительных настройках быстрого запроса можно указать:\n\n\nтип объекта для поиска;\nвремя ожидания при выполнении запроса;\nпуть к папке для сохранения результатов запроса и формат сохранения данных, а также префикс файла для более простой идентификации.\n\n\n\n\n\n\n\nWarning\n\n\n\n!NB по умолчанию результаты запроса сохраняются во временные слои, обозначенные значком \nЭти слои существуют только во время текущего сеанса работы, так что если вы планируете работать с ними далее, то их необходимо сохранить. Сделать это можно, кликнув правой кнопкой мыши на название слоя и выбрав пункт Сохранить на диск или Экспорт \\(\\longrightarrow\\) Сохранить объекты как…\n\nТакже обратите внимание, что по одному и тому же запросу могут возвращаться объекты с разными типами геометрии, причем каждый из этих типов сохраняется в отдельный слой.\n\n\nНа вкладке Map preset вы увидите существующий по умолчанию в модуле пресет Urban, а также свои сохраненные в виде пресетов запросы.\n\nВкладка OSM файл позволяет загружать сырые данные из OSM для их редактирования.\nВ Параметрах вы можете выбрать конкретный сервер Overpass для соединения и сервер Nominatim3.\n\nЕсли запросы осуществляются слишком медленно или не осуществляются вообще, выбор другого сервера может помочь решить эту проблему.\n\n\n\n\n\n\nTip\n\n\n\nПри желании более подробно ознакомиться с логикой построения запросов и языком запросов, вы можете воспользоваться интерактивным учебником https://osmlab.github.io/learnoverpass//en/\nИли взять уже готовые запросы из коллекции запросов https://osm-queries.ldodds.com/\n\n\n\n\n\nКроме непосредственного использования Overpass можно воспользоваться OSM-GPT - сервисом на основе ChatGPT, который позволяет делать запросы с использованием естественного языка.\nhttps://osm-gpt.rohitgautam.com.np/\n\n  \n\n\n\n\nЕсли вы хотите загрузить не последние актуальные данные OSM, а какие-то исторические, то самым простым способом будет загрузка данных из сервиса Geofabrik - https://download.geofabrik.de/.\nНа странице загрузки вы можете выбрать интересующий вас регион и скачать данные для него в формате .osm.pbf4 (может быть добавлен в ваш проект как любой другой векторный слой) или .shp.zip (заархивированный shapefile).\n\n\n\n\n\n\n\n\n\n\n\nCaution\n\n\n\nЗдесь тоже следует помнить, что, если данных не было в OSM ранее, это не значит, что этих объектов не существовало, возможно они просто были добавлены туда позднее.\n\n\nЕдиницы территориального деления различного уровня организованы в иерархическую структуру, то есть можно спускаться до необходимого вам уровня детализации региона.\n\n\n\n\n\nНа каждой странице региона вы увидите пункт Other formats and Auxiliary Files, в котором есть пункт raw directory index, позволяющий перейти к архивным данным за определенные даты и загрузить их.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nЛюбознательные и неленивые могут попробовать воспользоваться более продвинутыми инструментами:\n\nOsmium и немного о работе с ним https://habr.com/ru/articles/785254/\nOSHDB - OpenStreetMap History Data Analysis (подробное описание и документация)",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#загрузка-данных-из-openstreetmap",
    "href": "Data-sources.html#загрузка-данных-из-openstreetmap",
    "title": "Открытые источники данных",
    "section": "",
    "text": "OpenStreetMap (OSM) — проект, который создаёт и предоставляет свободные географические данные, дает возможность создавать карты любому пользователю. Каждый желающий может поучаствовать в проекте (загружать свои треки на сервер, дорисовывать общедоступную карту по спутниковым снимкам Bing, MapBox, DigitalGlobe (весь мир), IRS (запад России), SPOT4 (восток России) и SPOT (Белоруссия) от Космоснимки.ру, ASTER (Россия), OrbView-3 и другими) и использовать эти карты совершенно свободно, и бесплатно в отличие от многих других карт, даже бесплатных, свободное использование которых ограничено.\nКарты этого проекта очень широко используются как в некоммерческих целях, например, для исследовательских проектов, так и для коммерческих проектов, например, создания навигационных приложений.\nВот очень любопытный прецедент использования OSM в нашей стране.\n\n\n\n\n\n\nCaution\n\n\n\nБезусловно следует помнить, что OSM как источник данных весьма и весьма несовершенен, так как заполняется пользователями, однако он продолжает оставаться самым большим набором пространственных данных в мире.\n\n\n\n\nОдин из самых простых способов скачивания пространственных данных с OSM - это использование сервиса http://overpass-turbo.eu/.\nЕсть еще вот такой сервис русскоязычный, но там довольно много ограничений в бесплатной версии.\nПодробная информация о сервисе https://wiki.openstreetmap.org/wiki/Overpass_turbo\nДля создания запросов используется собственный язык запросов Overpass QL (Overpass Query Language)1.\nЕсть несколько различных типов формулировок Overpass QL . Они сгруппированы в:\n\nПараметры, которые являются необязательными глобальными переменными, устанавливаются в первом операторе запроса. Примерами настроек являются тайм-аут сервера для сервера Overpass API и формат вывода запроса Overpass QL.\nОператоры блока : операторы блока группируют операторы Overpass QL вместе.\nАвтономные запросы: это самостоятельные полные утверждения. Они могут выполнять такие функции, как запрос к серверу Overpass API для создания набора; манипулирование содержимым существующего набора; или отправка конечных результатов запроса в место вывода. Автономные запросы сами по себе состоят из более мелких языковых компонентов Overpass QL, таких как оценщики, фильтры и операторы.\n\nНа самом деле, чтобы составить запрос вам не обязательно знать все тонкости языка запросов. Вот основные моменты, которые необходимы для запроса:\n\nто, как объекты обозначаются в OSM - ключ и его значение;\nтип объектов (не обязательно, а только, если вы хотите выгружать конкретный тип объектов - точки, линии или полигоны);\nохват территории поиска - bounding box (по умолчанию задается по видимой части карты в правой половине окна, но можно задать непосредственно в запросе или выбрать вручную на карте).\n\nПодробная информация о том, какие объекты как обозначаются в OpenStreetMap. На этой странице можно искать нужный вам тип объектов, чтобы составить запрос.\nВ левой части окна будет отображаться выполняемый запрос, а в правой результаты этого запроса. По умолчанию поиск осуществляется в той области, которая отображается в правой части окна (это можно скорректировать более сложными запросами, см. справку о сервисе).\n\nДля составления запросов используется помощник. Обратите внимание, что в нем сразу можно использовать логические операторы.\n\n\nДля примера можно найти и загрузить данные по многоквартирным жилым домам (building=apartments) и основным магистральным улицам (highway=primary or highway=secondary or highway=tertiary, то есть центральные магистрали, основные магистрали районов и основные микрорайонные или межмикрорайонные транзитные улицы) в Санкт-Петербурге.\n\nПервый запрос по поиску жилых домов выглядит примерно так. Обратите внимание, что я убрала пункт node, чтобы у нас не производился поиск точечных объектов.\n\nВ результате запроса получим объекты на карте.\n\nПо умолчанию поиск объектов производится внутри видимой области карты в правой части окна, но с помощью кнопок управления, расположенных в этой части окна вы можете выбрать, например, прямоугольную область поиска.\n\n\nВ нижнем правом углу окна видно, сколько объектов какого типа было найдено, а сколько отображено.\nЭспортируем результаты себе на компьютер для дальнейшей работы с ними в QGIS. Для этого нужно нажать кнопку Экспорт, после чего появится диалоговое окно экспорта.\n\nДанные можно сохранить себе в формате geojson, о котором говорилось в предыдущем разделе @ref(formats), кроме этого формата данные также можно скачать в GPX, KML, в виде сырых данных, а также в виде данных для редактирования OSM.\nПредварителльно проверим свой файл в сервисе geojson.io.\nЗдесь достаточно будет просто перетащить ваш файл в правую часть окна. Если с файлом все в порядке и геометрия валидна, то на карте должны отобразиться объекты, а в правой части будет структура geojson файла.\n\nОткроем полученные данные в QGIS.\nДобавление слоя осуществляется через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить векторный слой.\n\nДалее в диалоговом окне нужно указать путь к файлу.\n\n\nНа самом деле не обязательно пользоваться строкой меню и ее пунктом Слой, все то же самое можно делать через окно Браузер в левой части интерфейса. Это скорее вопрос привычки.\nНо нужно помнить, что процесс открытия через строку меню более контролируемый.\n\nЕсли вы открыли новый проект, то в нем нужно выполнить перепроецирование на лету и добавить подложку.\nВ результате должно получиться что-то подобное.\n\n\n\nКарта с добавленной подложкой и слоями жилых многоквартирных домов и супермаркетов\n\n\n\n\n\nКарта с добавленными слоями жилых многоквартирных домов, улиц и супермаркетами\n\n\nВ таблицах атрибутов будет содержаться информация об объектах, которая внесена в OSM.\nОткрыть таблицу атрибутов слоя можно из контекстного меню, которое открывается правым кликом на название слоя.\n\n\nАтрибуты - это те характеристики объектов, которые не являются пространственными.\n\nТаблица атрибутов открывается в отдельном окне.\n\nПри необходимости мы можем добавлять и удалять отдельные поля, а также осуществлять операции между полями (об этом чуть подробнее будет на следующих занятиях).\nДля добавления и удаления полей нужно включить режим редактирования таблицы в ее панели инструментов (значок ). После этого в панели инструментов таблицы станут активными кнопки добавления и удаления полей .\nПри удалении полей следует просто выбрать поля, которые вы собираетесь удалить в перечне (можно выделять сразу несколько названий полей, используя кнопки Shift и CTRL).\nПри добавлении нового поля обязательно нужно задать его имя и тип данных, которые будут в нем храниться.\n\n\n\n\nКроме непосредственного использования сервиса можно скачивать данные OSM напрямую из QGIS с помощью модуля QuickOSM.\n\nПосле установки модуля на панели инструментов появятся два значка , левый из которых запускает окно поиска и загрузки данных из OSM, а правый позволяет удаленно подключаться к редактированию OSM через редактор JOSM2.\nОкно модуля по умолчанию открывается на вкладке Быстрый запрос.\n\nКнопка Помощью с ключами/значениями открывает страницу с документацией модуля https://docs.3liz.org/QuickOSM/\nНа второй строке находятся строка выбора пресетов (Preset) - готовый запросов по поиску объектов, поэтому если вы не очень уверены в том, как какие-либо объекты обозначаются, но знаете, какие вам нужны, можно попробовать найти уже готовый запрос здесь.\nСразу под этой строкой находится таблица, где вы можете выбирать конкретные ключи и их значения.\n\n\n\n\n\n\nTip\n\n\n\nЗапрос может включать в себя сразу несколько пар ключ/значение, но в этом случае части запроса должны быть связаны одним из логических операторов AND или OR.\nГлавное отличие в применении этих операторов состоит в том, что при выборе AND поиск объектов будет осуществляться с учетом того, что все части запроса должны выполняться одновременно.\nПри использовании оператора OR будет производится поиск объектов, удовлетворяющих хотя бы одному условию из заданных.\n\n\nСразу под таблицей необходимо задать область поиска:\n\n\nВ - поиск в заданном населенном пункте;\nВокруг - поиск в заданном радиусе вокруг населенного пункта;\nПокрывать холст - поиск в пределах видимой в основном окне программы части карты;\nПокрывать слой - поиск в пределах охвата конкретного слоя (необходимо выбрать нужный слой);\nНе пространственные - не заданная конкретная область, поэтому поиск будет производиться во всех данных OSM вне зависимости от местоположения.\n\nСвой запрос вы можете сохранить в виде пресета (Save query in a new preset), просмотреть его (Показать запрос) и Выполнить запрос.\nПри нажатии на кнопку Показать запрос у вас откроется вкладка Запрос, где текст вашего запроса будет показан на языке запросов Overpass аналогично тому, как было рассмотрено выше.\n\nПри желании, запрос можно писать прямо здесь.\nВ пункте Query history на вкладке Быстрый запрос у вас будут отображаться уже сделанные вами запросы.\nВ дополнительных настройках быстрого запроса можно указать:\n\n\nтип объекта для поиска;\nвремя ожидания при выполнении запроса;\nпуть к папке для сохранения результатов запроса и формат сохранения данных, а также префикс файла для более простой идентификации.\n\n\n\n\n\n\n\nWarning\n\n\n\n!NB по умолчанию результаты запроса сохраняются во временные слои, обозначенные значком \nЭти слои существуют только во время текущего сеанса работы, так что если вы планируете работать с ними далее, то их необходимо сохранить. Сделать это можно, кликнув правой кнопкой мыши на название слоя и выбрав пункт Сохранить на диск или Экспорт \\(\\longrightarrow\\) Сохранить объекты как…\n\nТакже обратите внимание, что по одному и тому же запросу могут возвращаться объекты с разными типами геометрии, причем каждый из этих типов сохраняется в отдельный слой.\n\n\nНа вкладке Map preset вы увидите существующий по умолчанию в модуле пресет Urban, а также свои сохраненные в виде пресетов запросы.\n\nВкладка OSM файл позволяет загружать сырые данные из OSM для их редактирования.\nВ Параметрах вы можете выбрать конкретный сервер Overpass для соединения и сервер Nominatim3.\n\nЕсли запросы осуществляются слишком медленно или не осуществляются вообще, выбор другого сервера может помочь решить эту проблему.\n\n\n\n\n\n\nTip\n\n\n\nПри желании более подробно ознакомиться с логикой построения запросов и языком запросов, вы можете воспользоваться интерактивным учебником https://osmlab.github.io/learnoverpass//en/\nИли взять уже готовые запросы из коллекции запросов https://osm-queries.ldodds.com/\n\n\n\n\n\nКроме непосредственного использования Overpass можно воспользоваться OSM-GPT - сервисом на основе ChatGPT, который позволяет делать запросы с использованием естественного языка.\nhttps://osm-gpt.rohitgautam.com.np/\n\n  \n\n\n\n\nЕсли вы хотите загрузить не последние актуальные данные OSM, а какие-то исторические, то самым простым способом будет загрузка данных из сервиса Geofabrik - https://download.geofabrik.de/.\nНа странице загрузки вы можете выбрать интересующий вас регион и скачать данные для него в формате .osm.pbf4 (может быть добавлен в ваш проект как любой другой векторный слой) или .shp.zip (заархивированный shapefile).\n\n\n\n\n\n\n\n\n\n\n\nCaution\n\n\n\nЗдесь тоже следует помнить, что, если данных не было в OSM ранее, это не значит, что этих объектов не существовало, возможно они просто были добавлены туда позднее.\n\n\nЕдиницы территориального деления различного уровня организованы в иерархическую структуру, то есть можно спускаться до необходимого вам уровня детализации региона.\n\n\n\n\n\nНа каждой странице региона вы увидите пункт Other formats and Auxiliary Files, в котором есть пункт raw directory index, позволяющий перейти к архивным данным за определенные даты и загрузить их.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nЛюбознательные и неленивые могут попробовать воспользоваться более продвинутыми инструментами:\n\nOsmium и немного о работе с ним https://habr.com/ru/articles/785254/\nOSHDB - OpenStreetMap History Data Analysis (подробное описание и документация)",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#загрузка-данных-с-wikipedia-и-wikidata5",
    "href": "Data-sources.html#загрузка-данных-с-wikipedia-и-wikidata5",
    "title": "Открытые источники данных",
    "section": "2 Загрузка данных с Wikipedia и WikiData5",
    "text": "2 Загрузка данных с Wikipedia и WikiData5\n\n\n\n\n\n\nCaution\n\n\n\nТочно так же, как и OSM эти источники данных весьма несовершенны, поэтому их следует использовать с аккуратностью.\n\n\n\n2.1 Поиск по статьям Wikipedia\nВ Wikipedia есть поиск по статьям, содержащим в себе координаты объектов.\nНекоторые примеры запросов, могут быть найдены в документации по ссылке.\nПоиск объектов в пределах радиуса 1000 метров от точки с координатами 37° 47′ 13.1″ N, 122° 23′ 58.84″ W:\nhttps://en.wikipedia.org/w/api.php?action=query&list=geosearch&gsradius=10000&gscoord=37.786971|-122.399677\nПоиск объектов в пределах заданного охвата:\nhttps://en.wikipedia.org/w/api.php?action=query&list=geosearch&gsbbox=37.8|-122.3|37.7|-122.4\n\n\n\n\n\n\nTip\n\n\n\nДля выполнения запроса достаточно просто вставить его в адресную строку браузера.\n\n\nОсновная часть запроса это list=geosearch (gs), остальное уже является дополнительными параметрами для задания определенной области поиска:\n\ngscoord - координаты точки, вокруг которой будет идти поиск (широта и долгота с разделением | );\ngspage - название страницы, вокруг объекта которой нужно осуществлять поиск;\ngsbbox - охват поиска (координаты левого верхнего и правого нижнего углов с разделением | );\ngsradius - радиус поиска в метрах (может быть только целым числом от 10 до 10000, значение по умолчанию - 500);\nи некоторые другие, позволяющие более точно настроить поиск.\n\nДля того, чтобы осуществлять поиск только по русскоязычным статьям, достаточно просто заменить в запросе en на ru.\nhttps://ru.wikipedia.org/w/api.php?action=query&list=geosearch&gsradius=10000&gscoord=37.786971|-122.399677\n\n\n\n\n\n\nWarning\n\n\n\nКоличество объектов, которое возвращается по запросу устанавливается параметром gslimit, но максимальное количество объектов может быть не более 500. Значение этого параметра по умолчанию - 10.\n\n\nПример запроса для Москвы:\nhttps://ru.wikipedia.org/w/api.php?action=query&generator=geosearch&redirects=1&prop=coordinates|langlinkscount|info&ggslimit=500&ggsradius=1000&ggscoord=55.75|37.55&colimit=500&format=json\nРезультат показан на рисунке ниже.\n\n\n\n\n\n\n\n\n2.2 Поиск по Wikidata\n«Викида́нные» (англ. Wikidata) — совместно редактируемая база знаний, созданная Фондом Викимедиа. Используется для обеспечения централизованного хранения данных, которые могут использоваться в других проектах, в том числе в статьях Википедии — например, интервики-ссылок, значков статусных статей и списков или статистической информации: дат рождения, численности населения и т. п.6\nХранение данных основано в виде так называемых утверждений (statements).\n\nУтверждения — это способ хранения любой информации об известном элементе. Формально, они состоят из пар ключ-значение, которые хранят соответствие свойства (например, «автор», или «дата публикации») с одним или несколькими значениями (например, «Артур Конан-Дойл» или «1902»).\n\n\n\n\n\n\nЗапросы осуществляются на языке подобном SQL - SparQL7.\nС различными примерами составления запросов можно ознакомиться по ссылке.\nПример запроса в заданном радиусе от определенной точки (вы можете попробовать запустить его по ссылке):\nSELECT ?place ?placeLabel ?location ?period ?fame ?distance\nWHERE\n{\n  SERVICE wikibase:around { \n      ?place wdt:P625 ?location . \n      bd:serviceParam wikibase:center \"Point(37.55 55.75)\"^^geo:wktLiteral.\n      bd:serviceParam wikibase:radius \"10\". # kilometers\n      bd:serviceParam wikibase:distance ?distance. \n  } \n    ?place wikibase:sitelinks ?fame .\n    OPTIONAL { ?place wdt:P571 ?period }.\n#    FILTER NOT EXISTS { \n#    {?place wdt:P31 wd:Q123705 .}\n#      UNION\n#    { ?place wdt:P31 wd:Q7553685 .}\n#    }\n  SERVICE wikibase:label {\n    bd:serviceParam wikibase:language \"ru\" . \n  }\n}\nПример запроса в определенном охвате (вы можете попробовать запустить его по ссылке):\nSELECT ?place ?placeLabel ?location ?period ?fame\nWHERE\n{\n  SERVICE wikibase:box { \n      ?place wdt:P625 ?location . \n      bd:serviceParam wikibase:cornerSouthWest \"Point(37.55 55.70)\"^^geo:wktLiteral.\n      bd:serviceParam wikibase:cornerNorthEast \"Point(37.70 55.80)\"^^geo:wktLiteral.\n  } \n    ?place wikibase:sitelinks ?fame .\n    OPTIONAL { ?place wdt:P571 ?period }.\n  \n  SERVICE wikibase:label {\n    bd:serviceParam wikibase:language \"ru\" . \n  }\n}\n\n\n\n\n\n\nTip\n\n\n\nКроме того, можете посмотреть подробное видео по работе с Wikidata (англ.) - https://youtu.be/kJph4q0Im98?si=lJLUlJR6s_wEbvbk\nили более краткий туториал на русском языке\n\n\n\n\n\n2.3 Данные об объектах культурного наследния Wikivoyage\nWikivoyage (Викигид http://wikivoyage.org/) - проект по созданию открытого всемирного путеводителя.\nДля загрузки данных можно воспользоваться парсером данных, код которого доступен по ссылке.\nЛибо можно скачать готовую выгрузку по результатам работы парсера по ссылке.",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#градостроительные-данные",
    "href": "Data-sources.html#градостроительные-данные",
    "title": "Открытые источники данных",
    "section": "3 Градостроительные данные",
    "text": "3 Градостроительные данные\n\n\n\n\n\n\nImportant\n\n\n\nК сожалению, в нашей стране отсутствует какой-либо каталог различных порталов градостроительных данных, которые регионы создают самостоятельно, поэтому конкретные данные для нужного региона следует искать на региональных порталах.\nПримеры региональных порталов:\n\nМосква https://gisogd.mos.ru/home\nСанкт-Петербург https://portal.kgainfo.spb.ru/kgamap\nЛенинградская область https://gisogd.lenobl.ru/app/7/layers\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nНо большинство градостроительных порталов позволяет выгружать данные только в текстовом или растровом виде (в виде картинки), что требует последующей привязки этих растров и векторизации.\n\n\nВ настоящее время есть сервис “Градостроительная проработка онлайн” - https://nspd.gov.ru/urban-analyze\n\n\n\n\n\n\n\n\n\n\n\n\n\nИсточник: https://kola.gov-murman.ru/news/press-relizy/519676/\n\n\n\n\n\n\n\n\nNote\n\n\n\nЭтот сервис тоже может выдавать данные только в текстовом виде.",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#данные-егрн",
    "href": "Data-sources.html#данные-егрн",
    "title": "Открытые источники данных",
    "section": "4 Данные ЕГРН",
    "text": "4 Данные ЕГРН\n\n4.1 Получение данных Национальной структуры пространственных данных\n\n\n\n\n\n\nCaution\n\n\n\nПоказанный ниже метод опирается на не задокументированный доступ через инструменты разработки в браузере.\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nКроме среды разработки полученный результат можно отформатировать, например, онлайн-сервисами JSON Formatter или JSON formatter and validator\n\n\n\n\n\n4.2 Получение данных из выписок ЕГРН и КПТ\nЕсли у вас есть выписка из ЕГРН на объект недвижимости или кадастровый план территории на кадастровый квартал в формате .xml, то вы можете попробовать загрузить данные из них в QGIS.\nНо их загрузка требует извлечения пространственной составляющей (координат характерных точек объектов недвижимости). Самый простой способ конвертации - онлайн-сервис от компании ПолигонПРО:\n\nКонвертер XML-файлов в формат Shapefile https://polygon.top/ws/shp/\nКонвертер XML-файлов в формат MIF/MID https://polygon.top/ws/mif/\n\n\n\n\n\n\nПолученные в результате конвертации файлы после разархивирования могут быть открыты как обычные векторные файлы.\n\n\n\n\n\n\nImportant\n\n\n\nПолученные координаты будут представлены в местной системе координат для конкретного кадастрового округа, так как используются именно внесенные в ЕГРН данные.\nПоэтому дополнительно нужно задать параметры местной системы координат в QGIS.\nВ каталоге систем координат QGIS содержится порядка 5000 тысяч описаний систем координат, однако иногда их использования недостаточно, тогда вы можете добавить в каталог свою пользовательскую систему координат. Это можно сделать через строку меню Настройки — Пользовательские проекции.\n\nПосле этого вам откроется окно, в котором можно задать параметры нужной вам системы координат в формате WKT или proj.\n\n\nОписание параметров различных систем координат можно найти, например, здесь.\n\n\nПосле добавления ваша система координат станет доступна в каталоге как для перепроецирования на лету, так и для перепроецирования слоев в разделе Пользовательские системы координат.\n\n\n\nСкорее всего открытый векторный файл будет отображаться в вашем проекте как файл без проекции или с ошибочной системой координат (справа от имени файла будет иконка с вопросительным знаком ).\nДля присвоения ему нужной системы координат следует просто кликнуть по названию файла правой кнопкой и выбрать пункт Система координат слоя \\(\\longrightarrow\\) Изменить систему координат слоя (или же выбрать из предлагаемого списка недавно использованных систем координат нужную).\n\n\n\n\n\nПосле этого слой будет отображаться на вашей карте должным образом.\nЕсли у вас нет выписки из ЕГРН или кадастрового плана территории, то вы можете скачать их для нужной территории/объектов из Архива КПТ.\n\n\n\n\n\n\nCaution\n\n\n\nСервис загрузки данных из архива КПТ является платным.\nТакже следует помнить, что данные загружаются пользователями сервиса и могут быть уже неактуальными.\n\n\n\n\n4.3 Подключение национальной системы пространственных данных в качестве подложки\n\n\n\n\n\n\nWarning\n\n\n\nНе проверено лично мной, так что может уже не работать.\n\n\nВ первую очередь необходимо установить на ваш компьютер сертификаты безопасности Минцифры (доступны по ссылке https://www.gosuslugi.ru/crt).\nДалее непосредственно в настройках QGIS указать расположение этих сертификатов на компьютере.\n\n\n\n\n\nПосле этого вы можете в панели браузера создать нужное новое подключение к WMS\\WMTS сервис, в котором прописать ссылку на соответствующий слой подложки необходимый вам.\n\n\n\n\n\nСсылки на все доступные сервисы можно посмотреть в файле https://disk.yandex.ru/i/m7i1fmjirwWd_Q.",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#данные-федерального-фонда-пространственных-данных",
    "href": "Data-sources.html#данные-федерального-фонда-пространственных-данных",
    "title": "Открытые источники данных",
    "section": "5 Данные федерального фонда пространственных данных",
    "text": "5 Данные федерального фонда пространственных данных\n\n\n\n\n\n\nWarning\n\n\n\nДанные предоставляются только за плату.\n\n\nПублично-правовая компания “Роскадастр” предоставляет услугу по получению данных из федерального фонда пространственных данных (ФФПД) и сведения единой электронной картографической основы (ЕЭКО).\nОсновные виды материалов и данных ФФПД:\n\nПервичные и производные материалы и данные дистанционного зондирования Земли (ДЗЗ);\nГосударственные топографические карты и планы;\nГеодезические материалы и данные;\nГосударственные навигационные карты (планы) для автомобильного транспорта;\nИздательские, составительские оригиналы в цифровой форме и тиражные оттиски общегеографических, политико-административных, научно-справочных и других тематических карт, и атласов межотраслевого назначения;\nМатериалы и данные делимитации, демаркации и проверки прохождения государственной границы РФ и материалы и данные об установлении и изменении границ субъектов РФ и границ муниципальных образований\nСправочные и другие материалы.\n\nВ состав ЕЭКО входят следующие слои:\n\nрельеф местности с точностью, соответствующей масштабу мельче 1:50 000,\nгидрография и гидротехнические сооружения,\nрастительный покров и грунты (древесная, кустарниковая, травянистая растительность, пашни, болота, прочие земли, пески, каменистые россыпи, нарушенные земли и тому подобное),\nдорожная сеть и дорожные сооружения,\nнаселенные пункты,\nпромышленные, сельскохозяйственные и социально-культурные объекты, в том числе жилые объекты,\nгосударственная граница Российской Федерации,\nграницы между субъектами Российской Федерации,\nнаименования географических объектов,\nиная информация, не содержащая сведений, составляющих государственную тайну, и являющихся систематизированной совокупностью пространственных данных о территории Российской Федерации.\n\nСсылка на сервис: https://portal.fppd.cgkipd.ru/main\nИнструкция и справка: https://portal.fppd.cgkipd.ru/glavnaia",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#архивные-карты-городов",
    "href": "Data-sources.html#архивные-карты-городов",
    "title": "Открытые источники данных",
    "section": "6 Архивные карты городов",
    "text": "6 Архивные карты городов\nНекоторые архивные карты городов в растровом формате можно найти на сайте https://retromap.ru/select\nАрхивные карты (примерно до середины двадцатого века) можно попробовать найти на сайте https://geoportal.rgo.ru/collections\nНаиболее любознательные могут попробовать поискать архивные карты в фонде картографических изданий РНБ или в каталоге Национальной электронной библиотеки.",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#дополнительные-источники",
    "href": "Data-sources.html#дополнительные-источники",
    "title": "Открытые источники данных",
    "section": "7 Дополнительные источники",
    "text": "7 Дополнительные источники\nВ качестве дополнительных источников данных можно также использовать:\n\nсведения о точках притяжения от компании Foursquare - Foursquare OS Places(почитать про особенности скачивания данных можно по ссылке);\nнекоторые социально-экономические показатели в разрезе муниципальных образований можно взять из БД ПМО Росстата (более удобная для работы версия есть здесь: Муниципальная статистика России с 2005 года//Росстат; обработка «Если быть точным», 2024. Условия использования: Creative Commons BY 4.0. URL: https://tochno.st/datasets/bdmo);\n\n\n\n\n\n\n\nWarning\n\n\n\nСледует учитывать, что в этих данных очень много пробелов\n\n\n\nданные об экономической отчетности предприятий есть в Российской базе бухгалтерской отчетности (Bondarkov, Sergey and Ledenev, Victor and Skougarevskiy, Dmitriy. arXiv preprint arXiv:2501.05841. https://doi.org/10.48550/arXiv.2501.05841);\nДанные о границах и изменениях муниципальных образований в России для аналитики на внутрирегиональном уровне - https://sberindex.ru/ru/research/dataset-borders-and-changes-of-municipalities (подробнее об этом наборе можно почитать по ссылке).",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "Data-sources.html#footnotes",
    "href": "Data-sources.html#footnotes",
    "title": "Открытые источники данных",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nOverpass API/Overpass QL https://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL↩︎\nhttps://josm.ru/↩︎\nВ данном случае этот сервис нужен для осуществления геокодирования, то есть поиска положения населенного пункта по его названию↩︎\nподробнее о формате https://wiki.openstreetmap.org/wiki/RU:PBF_Format↩︎\nНа основе https://gis4arch.blogspot.com/2020/11/wikipedia-wikidata.html↩︎\nИсточник https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D0%BA%D0%B8%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5↩︎\nhttps://www.wikidata.org/wiki/Wikidata:SPARQL_tutorial↩︎",
    "crumbs": [
      "Источники данных о территории",
      "Открытые источники данных"
    ]
  },
  {
    "objectID": "relief.html",
    "href": "relief.html",
    "title": "Анализ рельефа",
    "section": "",
    "text": "Цифровые модели рельефа, как правило, строят либо по результатам интерполяции, либо на основе открытых данных.\nСамым распространенным источником данных о рельефе является цифровая модель рельефа SRTM (shuttle radar topographic mission). Эта цифровая модель была получена в 2000 году на основе спутниковой радарной съемки. Она охватывает планету между 54 градусами южной широты и 60 градусами северной широты. Подробнее на русском можно почитать про нее здесь\nСкачать данные SRTM можно на сайте Геологической службы США (https://earthexplorer.usgs.gov/) или с помощью плагина SRTM downloader.\n\n\n\n\n\n\nWarning\n\n\n\nДля использования модуля и загрузки данных напрямую из QGIS все равно необходимы реквизиты аккаунта на сайте USGS.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nЗначительным недостатком SRTM является ее ограниченный пространственный охват, из-за которого значительная часть нашей страны не покрыта этой цифровой моделью рельефа.\n\n\nДля примера и выполнения работы были скачаны данные для окрестностей Эльбруса (файл dem_elbrus.tiff).\nИз SRTM выгружается сразу целая 1-градусная трапеция (фрагмент 1 градус по широте и 1 градус по долготе), в этом случае трапеция была обрезана до более маленького фрагмента (вообще не очень рекомендую работать с большими растрами, охватывающими сразу градус и более по долготе и широте).\nБолее современной и точной цифровой моделью рельефа является модель FABDEM\nВ каждой ячейке исходного растрового изображения содержится значение высоты.\nДобавление растрового слоя осуществляется через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить растровый слой.\n\nПосле открытия файла его лучше сразу перепроецировать на лету в EPSG:3857.\n\n\n\n\n\n\nTip\n\n\n\nПерепроецирование на лету не будет изменять систему координат слоя, а только изменит систему координат проекта и то, как ваша карта будет отображаться на экране.\nПерепроецирование на лету может быть выполнено с использованием кнопки  в правом нижнем углу основного окна программы.\n\n\nВ результате будет открыто изображение рельефа в оттенках серого цвета.\n\nЭто изображение можно сделать цветным, для этого нужно открыть свойства слоя. В настройках стиля нужно выбрать тип изображения Одноканальное псевдоцветное.\nОдноканальное здесь очевидно потому, что изображение не поделено на каналы и существует только в одном.\n\n\nГрадиент можно также создать самостоятельно с помощью редактора градиентов.\n\n\nИли выбрать из готового каталога градиентов. Для этого при создании нового градиента нужно выбрать каталог cpt-city.\n\nДалее в каталоге слева выбрать тип градиента Topography и подобрать нужный градиент (можно взять elevation или с3t3).\n\n\n\n\nГрадиент c3t3\n\n\nТакже можно воспользоваться функцией Цветной рельеф, которая позволяет создавать классы автоматически и задавать им цвет.\n\n\nС использованием такого растра может быть построена трехмерная поверхность, отображающая рельеф местности, а также выполнен ряд вычислений для морфометрического анализа рельефа.\n\nВсе растровые операции здесь осуществляются за счет разности значений между ячейками.\n\n\n\nДля более наглядного отображения рельефа на карте рассчитывается теневой рельеф, который строится с использованием позиции источника направленного света, или теневая отмывка.\n\nВ данном случае одним из самых важных параметров является Масштабирование по Z - этот параметр позволяет соотнести между собой единицы измерения плановых координат и высот. В нашем случае высоты в ячейках растра приведены в метрах, а координаты - в градусах., кроме того, стоит учитывать, что в географических системах координат искажение зависит от долготы.\nС этим можно справиться двумя способами - перепроецировать растра в прямоугольную систему координат или задать масштабирование по Z (Z-factor). Фактически с помощью этого коэффициента мы переходим от градусов к метрам. Так как у нас окрестности Эльбруса, то можно воспользоваться значением коэффициента для 40 градусов долготы - 0.00001171.2\nАзимут и вертикальный угол задают положение источника света.\n\n\n\nТеневой рельеф (теневая отмывка)\n\n\nЭтот теневой рельеф можно использовать, чтобы добавить дополнительный объем подложке (предварительно нужно добавить) или исходному рельефу растра. Для этого нужно открыть свойства слоя с теневым рельефом и изменить режим смешивания на Добавление, Осветление или Затемнение (также можно поэкспериментировать с настройками яркости и контрастности).\n\n\n\n\n\n\n\n\n\nРассчитаем крутизну склонов - угол наклона каждого склона в градусах.\n\n\n\n\n\n\n\n\n\nЭта функция позволяет определить ориентацию склонов по сторонам света.\n\n\n\n\n\nТакже по растру с данными о рельефе может быть рассчитана неоднородность рельефа.\nЭтот показатель рассчитывается на основе разности значений между пикселями в сетке 3 на 3. Таким образом, каждый полученный пиксель содержит разницу между центральным пикселем и 8 его окружащими.\n\n\n\n\n\nТакже QGIS поддреживает отображение трехмерных поверхностей. Для этого нужно просто в строке меню выбрать Вид - Новая 3D карта.\n\nПосле чего в окне программы появится окно трехмерной карты (перемещение по карте левой кнопкой мыши, поворот и наклон - колесико, приближение - правая кнопка мыши).\n\nСразу после открытия нового окна поверхность все еще является плоской, потому что не задано на основе чего строить трехмерную поверхность.\nВ окне трехмерной карты нужно нажать кнопку Настройки (в панели значков крайняя справа) и в открывшемся окне настроек выбрать тип DEM (raster layer), высота (растровый слой с высотами) и вертикальный масштаб (здесь лучше всзять что-то от 1 до 5, чтобы поверхность была повыразительнее).\nДополнительно можно добавить Terrain shading (фактически теневая отмывка) и подкорректировать tile resolution (чем больше, тем более подробным будет рельеф), и skirt height (если правильно нашла - высота подставки под саму поверхность).\n\nПосле чего в окне будет отображена трехмерная поверхность.\n\n\n\n\nИз растра со значениями высот могут быть извлечены горизонтали\n\nРасстояние между изолиниями - это фактически высота сечения рельефа, то есть через сколько мы будем проводить горизонтали.\n\nПолученные изолинии\n\nНастроим горизонтали таким образом, чтобы каждая пятая была утолщенной, добавим подписи и настроим их так, чтобы они были “головой вверх”.\nНачнем с настройки толщины линий. Для этого в свойствах слоя выберем настройку толщины в зависимости от выражения.\n\nДалее пропишем логическое выражение: if(“ELEV”%500=0,0.7,0.3). В этом выражении перед запятой прописано условие - высота горизонтали делится на 500 без остатка, потом толщина линии, если условие выполняется, и толщина, если условие не выполняется.\n\nРезультат\n\nДобавим подписи.\n\nНо при таком добавлении подписей, будут подписаны все горизонтали, а мы хотим подписать только утолщенные. Для этого нужно прописать выражение, подобное тому, что мы писали выше: if(“ELEV”%500=0,“ELEV”,““).\n\nДобавим белую обводку подписям, чтобы они не сливались с горизонталями\n\nСделаем так, чтобы они размещались на линии и изгибались в соответствии с ней.\n\nИ настроим подписи так, чтобы все они смотрели головой в сторону увеличения высоты.\n\n\nВ результате получим горизонтали, где каждая пятая будет утолщена и подписана головой в сторону увеличения."
  },
  {
    "objectID": "relief.html#relief",
    "href": "relief.html#relief",
    "title": "Анализ рельефа",
    "section": "",
    "text": "Цифровые модели рельефа, как правило, строят либо по результатам интерполяции, либо на основе открытых данных.\nСамым распространенным источником данных о рельефе является цифровая модель рельефа SRTM (shuttle radar topographic mission). Эта цифровая модель была получена в 2000 году на основе спутниковой радарной съемки. Она охватывает планету между 54 градусами южной широты и 60 градусами северной широты. Подробнее на русском можно почитать про нее здесь\nСкачать данные SRTM можно на сайте Геологической службы США (https://earthexplorer.usgs.gov/) или с помощью плагина SRTM downloader.\n\n\n\n\n\n\nWarning\n\n\n\nДля использования модуля и загрузки данных напрямую из QGIS все равно необходимы реквизиты аккаунта на сайте USGS.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nЗначительным недостатком SRTM является ее ограниченный пространственный охват, из-за которого значительная часть нашей страны не покрыта этой цифровой моделью рельефа.\n\n\nДля примера и выполнения работы были скачаны данные для окрестностей Эльбруса (файл dem_elbrus.tiff).\nИз SRTM выгружается сразу целая 1-градусная трапеция (фрагмент 1 градус по широте и 1 градус по долготе), в этом случае трапеция была обрезана до более маленького фрагмента (вообще не очень рекомендую работать с большими растрами, охватывающими сразу градус и более по долготе и широте).\nБолее современной и точной цифровой моделью рельефа является модель FABDEM\nВ каждой ячейке исходного растрового изображения содержится значение высоты.\nДобавление растрового слоя осуществляется через строку меню Слой \\(\\longrightarrow\\) Добавить слой \\(\\longrightarrow\\) Добавить растровый слой.\n\nПосле открытия файла его лучше сразу перепроецировать на лету в EPSG:3857.\n\n\n\n\n\n\nTip\n\n\n\nПерепроецирование на лету не будет изменять систему координат слоя, а только изменит систему координат проекта и то, как ваша карта будет отображаться на экране.\nПерепроецирование на лету может быть выполнено с использованием кнопки  в правом нижнем углу основного окна программы.\n\n\nВ результате будет открыто изображение рельефа в оттенках серого цвета.\n\nЭто изображение можно сделать цветным, для этого нужно открыть свойства слоя. В настройках стиля нужно выбрать тип изображения Одноканальное псевдоцветное.\nОдноканальное здесь очевидно потому, что изображение не поделено на каналы и существует только в одном.\n\n\nГрадиент можно также создать самостоятельно с помощью редактора градиентов.\n\n\nИли выбрать из готового каталога градиентов. Для этого при создании нового градиента нужно выбрать каталог cpt-city.\n\nДалее в каталоге слева выбрать тип градиента Topography и подобрать нужный градиент (можно взять elevation или с3t3).\n\n\n\n\nГрадиент c3t3\n\n\nТакже можно воспользоваться функцией Цветной рельеф, которая позволяет создавать классы автоматически и задавать им цвет.\n\n\nС использованием такого растра может быть построена трехмерная поверхность, отображающая рельеф местности, а также выполнен ряд вычислений для морфометрического анализа рельефа.\n\nВсе растровые операции здесь осуществляются за счет разности значений между ячейками.\n\n\n\nДля более наглядного отображения рельефа на карте рассчитывается теневой рельеф, который строится с использованием позиции источника направленного света, или теневая отмывка.\n\nВ данном случае одним из самых важных параметров является Масштабирование по Z - этот параметр позволяет соотнести между собой единицы измерения плановых координат и высот. В нашем случае высоты в ячейках растра приведены в метрах, а координаты - в градусах., кроме того, стоит учитывать, что в географических системах координат искажение зависит от долготы.\nС этим можно справиться двумя способами - перепроецировать растра в прямоугольную систему координат или задать масштабирование по Z (Z-factor). Фактически с помощью этого коэффициента мы переходим от градусов к метрам. Так как у нас окрестности Эльбруса, то можно воспользоваться значением коэффициента для 40 градусов долготы - 0.00001171.2\nАзимут и вертикальный угол задают положение источника света.\n\n\n\nТеневой рельеф (теневая отмывка)\n\n\nЭтот теневой рельеф можно использовать, чтобы добавить дополнительный объем подложке (предварительно нужно добавить) или исходному рельефу растра. Для этого нужно открыть свойства слоя с теневым рельефом и изменить режим смешивания на Добавление, Осветление или Затемнение (также можно поэкспериментировать с настройками яркости и контрастности).\n\n\n\n\n\n\n\n\n\nРассчитаем крутизну склонов - угол наклона каждого склона в градусах.\n\n\n\n\n\n\n\n\n\nЭта функция позволяет определить ориентацию склонов по сторонам света.\n\n\n\n\n\nТакже по растру с данными о рельефе может быть рассчитана неоднородность рельефа.\nЭтот показатель рассчитывается на основе разности значений между пикселями в сетке 3 на 3. Таким образом, каждый полученный пиксель содержит разницу между центральным пикселем и 8 его окружащими.\n\n\n\n\n\nТакже QGIS поддреживает отображение трехмерных поверхностей. Для этого нужно просто в строке меню выбрать Вид - Новая 3D карта.\n\nПосле чего в окне программы появится окно трехмерной карты (перемещение по карте левой кнопкой мыши, поворот и наклон - колесико, приближение - правая кнопка мыши).\n\nСразу после открытия нового окна поверхность все еще является плоской, потому что не задано на основе чего строить трехмерную поверхность.\nВ окне трехмерной карты нужно нажать кнопку Настройки (в панели значков крайняя справа) и в открывшемся окне настроек выбрать тип DEM (raster layer), высота (растровый слой с высотами) и вертикальный масштаб (здесь лучше всзять что-то от 1 до 5, чтобы поверхность была повыразительнее).\nДополнительно можно добавить Terrain shading (фактически теневая отмывка) и подкорректировать tile resolution (чем больше, тем более подробным будет рельеф), и skirt height (если правильно нашла - высота подставки под саму поверхность).\n\nПосле чего в окне будет отображена трехмерная поверхность.\n\n\n\n\nИз растра со значениями высот могут быть извлечены горизонтали\n\nРасстояние между изолиниями - это фактически высота сечения рельефа, то есть через сколько мы будем проводить горизонтали.\n\nПолученные изолинии\n\nНастроим горизонтали таким образом, чтобы каждая пятая была утолщенной, добавим подписи и настроим их так, чтобы они были “головой вверх”.\nНачнем с настройки толщины линий. Для этого в свойствах слоя выберем настройку толщины в зависимости от выражения.\n\nДалее пропишем логическое выражение: if(“ELEV”%500=0,0.7,0.3). В этом выражении перед запятой прописано условие - высота горизонтали делится на 500 без остатка, потом толщина линии, если условие выполняется, и толщина, если условие не выполняется.\n\nРезультат\n\nДобавим подписи.\n\nНо при таком добавлении подписей, будут подписаны все горизонтали, а мы хотим подписать только утолщенные. Для этого нужно прописать выражение, подобное тому, что мы писали выше: if(“ELEV”%500=0,“ELEV”,““).\n\nДобавим белую обводку подписям, чтобы они не сливались с горизонталями\n\nСделаем так, чтобы они размещались на линии и изгибались в соответствии с ней.\n\nИ настроим подписи так, чтобы все они смотрели головой в сторону увеличения высоты.\n\n\nВ результате получим горизонтали, где каждая пятая будет утолщена и подписана головой в сторону увеличения."
  },
  {
    "objectID": "relief.html#footnotes",
    "href": "relief.html#footnotes",
    "title": "Анализ рельефа",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nhttps://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#hillshade↩︎\nhttps://www.esri.com/arcgis-blog/products/product/imagery/setting-the-z-factor-parameter-correctly/↩︎\nhttps://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#slope↩︎\nhttps://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#aspect↩︎\nhttps://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasterterrainanalysis.html?highlight=relief%20analysis#ruggedness-index↩︎"
  },
  {
    "objectID": "surface-temperature.html",
    "href": "surface-temperature.html",
    "title": "Определение температуры поверхности по космическим снимкам",
    "section": "",
    "text": "Подготовлено по материалам телеграм канала “О картах” - https://gommersh.notion.site/361cd5e111174365afcb777143bcd078"
  },
  {
    "objectID": "surface-temperature.html#описание-расчета",
    "href": "surface-temperature.html#описание-расчета",
    "title": "Определение температуры поверхности по космическим снимкам",
    "section": "1 Описание расчета",
    "text": "1 Описание расчета\nОпределение температуры поверхности по космическим снимкам основано на анализе теплового излучения, зарегистрированного инфракрасными сенсорами на спутниках. Эти данные позволяют точно измерять температурные характеристики земной поверхности и водных объектов, что критично для исследований в области изменения климата, горожов, мониторинга лесных пожаров, оценки состояния сельскохозяйственных угодий и управления водными ресурсами.\nНа сайте геологической службы США можно скачать космоснимки, среди них есть отдельная группа снимков Ландсат, которые представляют собой информацию о температуре приземного слоя. Такие снимки помечены префиксом ST (“Surface temperature”).\n\n\n\n\n\n\n\n\n\n\n\n\nST_URAD\nвосходящее тепловое излучение\n\n\n\n\nST_DRAD\nнисходящее тепловое излучение\n\n\nST_ATRAN\nатмосферная прозрачность (проницаемость атмосферы)\n\n\nST_EMIS\nповерхностная излучательная способность\n\n\nST_EMSD\nстандартное отклонение поверхностной излучательной способности\n\n\nST_QA\nнеопределенность полосы измерения, в кельвинах\n\n\nST_CDIST\nрасстояние в пикселях от ближайшего определенного облака\n\n\nST_B10\nтемпература земной поверхности, измеряется в Кельвинах\n\n\n\nЧтобы исследовать температуру земной поверхности нам нужен файл с ST_B10. Если посмотреть на реальные данные, то можно увидеть, что числа в пикселях в данном канале совсем не похожи на реальные показатели температуры. А значит, нужно как-то преобразовать существующие данные.\n\n\n\n\n\nПодробное описание преобразования данных в температуру есть в технической документации.\n\n\n\n\n\nДля значений этого канала есть некий multiplicative scale factor и additive offset:\n\nMultiplicative scale factor (MSF) – чтобы получить температуру, на это число нужно умножать значение пикселя. Слово multiplicative указывает на то, что значение пикселя нужно умножать на это число.\nAddtive Offset (AO) - специальное число, которое нужно добавить, чтобы получить температуру приземного слоя. Слово additive указывает на то, что к значению пикселя нужно прибавить это число.\n\nТакже заметьте, что значения в данном канале представлены в кельвинах. Поэтому от полученного значения нужно будет отнять 273,15 чтобы получить температуру не в кельвинах, а в градусах цельсия.\nУчитываем все это, и у нас получается формула температуры приземного слоя для ландсат 8-9:\n\\[LST_{rescaled} = LST*MSF+ AO - 273,5\\]\nЗначение пикселя в канале 10 умножаем на MSF, прибавляем АО и отнимаем 273,15. Теперь подставим числа и получим финальную формулу:\n\\[LST_{rescaled} = B\\_10\\_ST*0.00341802 + 149 - 273,5\\]\nЭту формулу мы будем использовать для того, чтобы из значения пикселя получить температуру поверхности земли в градусах цельсия."
  },
  {
    "objectID": "surface-temperature.html#расчет-температуры",
    "href": "surface-temperature.html#расчет-температуры",
    "title": "Определение температуры поверхности по космическим снимкам",
    "section": "2 Расчет температуры",
    "text": "2 Расчет температуры\nШаг 1. Скачиваем космоснимок\nСнимки можно скачать с сайта геологической службы США (процесс скачивания снимков описан в разделе Открытые данные дистанционного зондирования).\n\n\n\n\n\n\nImportant\n\n\n\nЗдесь вам подойдут только снимки Landsat-8 или Landsat-9.\nПричем вам достаточно скачать только 10 канал, прочие для расчета температуры не требуются.\n\n\n\n\n\n\n\nШаг 2. Считаем температуру\nОткрываем QGIS и добавляем в пустой проект наш снимок.\n\n\n\n\n\nОткроем калькулятор растра (Растр \\(\\longrightarrow\\) Калькулятор растра) и воспользуемся формулой:\n\\[LST_{rescaled} = LST*MSF+ AO - 273,5\\]\nВместо B_10_ST поставим наше значение из рассматриваемого растра.\n\n\n\n\n\n\n\nCaution\n\n\n\nВ калькуторе растров лучше сохранять результат не в виде временного растра, а сразу в файл, так как сохранение во временный растр может привести к ошибкам и некорректным расчетам.\n\n\nДалее при необходимости можно обрезать снимок и подобрать цветовой градиент для лучшей иллюстрации температурных аномалий.\n\nЧто можно с этим делать:\n\nНаглядно показать, как нагревается асфальт в городе и насколько он влияет на общую температуру в районе;\nНаглядно показать обратное - как хорошо влияет зелень на среднюю температуру;\nОценить городские острова тепла;\nОценить изменение температуры в динамике и отметить температурные тренды.\n\n\n\n\n\n\n\n\n\n\nИсточник: https://t.me/gisgoo/262\n\n\n\n\n\nИсточник: https://app.geohub.ru/maps/1685\n\n\n\n\n\n\n\n\nNote\n\n\n\nБолее подробно про расчет температуры поверхности можно почитать по ссылке."
  },
  {
    "objectID": "building-parameters.html",
    "href": "building-parameters.html",
    "title": "Источники данных о характеристиках застройки",
    "section": "",
    "text": "ГИС ЖКХ - государственная информационная система жилищно-коммунального хозяйства, созданная Минстроем и Минцифры РФ и содержащая в себе данные об объектах жилого фонда.\nОфициальный сайт: https://portal.dom.gosuslugi.ru/\nРеестр объектов жилого фонда, содержащий информацию об объектах государственного учёта жилищного фонда, включая их технические характеристики и состояние: https://dom.gosuslugi.ru/#!/houses\nБлок поиска содержит следующие вкладки1:\n\nПоиск дома по адресу;\nПоиск дома по управляющей организации;\nПоиск дома по ОМС.\n\nКроме поиска отжельных домов в реестре доступна возможность формирования выгрузки сведений из реестра объектов жилищного фонда в виде архива с файлами выгрузки в формате CSV в разрезе субъектов РФ.\nДля скачивания архива нажмите на кнопку Скачать, расположенную над блоком поиска2.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nСкачиваемый архив размером порядка 3,7 Гигабайт, так что необходимо будет немного подождать полной загрузки.\n\n\nПосле скачивания и распаковки архива вы увидите набор файлов в формате .csv с данными по отдельным регионам.\n\n\n\n\n\n\n\n\nПолученные из ГИС ЖКХ данные не имеют явной географической привязки, а только адрес, поэтому для работы с ними, как с пространственными объектами требуют геокодирования.\n\nГеокодирование - процесс получения географических координат объектов на основе их адресов.\n\n\n\n\nИсточник: https://mappa-logistics.ru/tpost/bmgh0h3z81-sravnenie-geokoderov-kakoi-luchshe-vibra\n\n\n\n\nОднако перед геокодированием следует открыть данные и немного их подготовить.\nНо для геокодирования необходимо обработать строку с адресом таким образом, чтобы в ней содержалось только название улицы и номер дома, а также выделим название города в отдельную колонку.\nДля этого воспользуемся скриптом:\ndef add_sub_address_column(file_path):\n    new_file = f\"{file_path.split('.')[0]}_sub_address.{file_path.split('.')[1]}\"\n    with open(new_file, \"w\") as file_write: # открывается поток для записи файла\n        with open(file_path, \"rt\") as file_read: # открывается поток для записи файла\n          # потоки здесь нужны для того, чтобы открытый и записываемый файл в любом случае были закрыты вне зависимости от успешности выполнения\n            file_write.write(f\"Город|Адрес|{file_read.readline().replace(',', '')[1:]}\".replace('|', ',')) \n            # чтение заголовка таблицы, добавление в него двух колонок в начале, замена запятых на пробелы, а потом заменя | на запятые\n            for line in file_read: # для каждой строки в файле\n                address = line.strip().split(\"|\")[0]\n      # первый элемент строки\n                city = address.split(\",\") # разделение строки по запятым\n                if len(city) == 4:\n                    city = city[1].strip()\n                else:\n                    city = city[-3].strip()\n                try:\n                    city = city.split(\".\")[1].strip()\n                except IndexError:\n                    continue\n                sub_address = [str_.strip() for str_ in address.split(\",\")[-2:]]\n                sub_address_str = \" \".join(sub_address)\n                line = \",\".join(line.split(\"|\")[1:])\n                full_line = \",\".join([city, sub_address_str, f\"{line}\"])\n                file_write.write(full_line)\n\n\nadd_sub_address_column(file_path=\"путь к вашему файлу\")\nЗапустить готовый код можно напрямую из консоли python в QGIS: Модули \\(\\longrightarrow\\) Консоль python.\nКонсоль будет открыта в нижней части вашего окна QGIS. Для добавления вашего скрипта вы можете нажать на кнопку .\nПосле этого в правой части консоли появится небольшое окно для введения скрипта, в которое вы можете вставить нужный код.\n\n\n\n\n\nЗапуск кода осуществляется по кнопке Выполнить сценарий над вашим скриптом.\n\n\n\n\n\n\nWarning\n\n\n\nНе забудьте вставить в последней строке путь к тому файлу, который хотите обработать!\n\n\nПо результатам обработки в вашей папке с исходным файлом появится новый с названием “Сведения по ОЖФ Адыгея Респ на 23-02-2025_sub_address.csv”.\n\n\n\nСуществует большое количество сервисов геокодирования как с платным доступом, так и бесплатным. В нашем примере мы воспользуемся модулем MMQGIS3 и бесплатным сервисом геокодирования Nominatim4.\nДля работы с модулем прежде всего необходимо его установить. Установка может быть осуществлена из репозитория напрямую в программе: Модули \\(\\longrightarrow\\) Управление модулями.\n\n\n\n\n\nПосле установки модуль появится в вашей строке меню.\nДля геокодирования откроем модуль.\n\n\n\n\n\nВ открывшемся окне необходимо указать путь к файлу для геокодирования, колонки, в которых хранятся адрес и название города, а также путь к файлам для сохранения результатов.\n\n\n\n\n\n\nTip\n\n\n\nВ нашем случае город будет использоваться для повышения точности геокодирования, так как улицы с одинаковыми названиями и номерами домов могут находиться в разных городах.\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nЗдесь мы используем бесплатный сервис, который не требует получения ключей, для использования остальных необходимо сначала получить ключ доступа API key.\nПодробнее про различные сервисы геокодирования и их использование можно почитать здесь и здесь.\n\n\n\n\n\n\n\n\nNote\n\n\n\nОбратите внимание, что в результате вы получите векторный файл в формате shapefile (.shp) с точками домов, координаты которых были определены при геокодировании, и текстовый файл в формате .csv для тех объектов, где координаты найдены не были.\n\n\nПолученный векторный слой будет сохранять в себе все колонки исходного файла, к которым будет присоединена колонка с координатами (latlong).\n\n\n\n\n\n\nImportant\n\n\n\nРезультатом геокодирования всегда будет точечный слой, поэтому если вам нужны полигоны домов, то их необходимо получить из другого источника (например, скачать из OSM) и присоединить к ним атрибуты с использованием инструмента Объединить по расположению.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nНе забывайте, что shapefile - это коварный формат и вам нужен не только файл с расширением .shp, но и все другие с таким же именем, но другими расширениями.",
    "crumbs": [
      "Источники данных о территории",
      "Источники данных о характеристиках застройки"
    ]
  },
  {
    "objectID": "building-parameters.html#гис-жкх",
    "href": "building-parameters.html#гис-жкх",
    "title": "Источники данных о характеристиках застройки",
    "section": "",
    "text": "ГИС ЖКХ - государственная информационная система жилищно-коммунального хозяйства, созданная Минстроем и Минцифры РФ и содержащая в себе данные об объектах жилого фонда.\nОфициальный сайт: https://portal.dom.gosuslugi.ru/\nРеестр объектов жилого фонда, содержащий информацию об объектах государственного учёта жилищного фонда, включая их технические характеристики и состояние: https://dom.gosuslugi.ru/#!/houses\nБлок поиска содержит следующие вкладки1:\n\nПоиск дома по адресу;\nПоиск дома по управляющей организации;\nПоиск дома по ОМС.\n\nКроме поиска отжельных домов в реестре доступна возможность формирования выгрузки сведений из реестра объектов жилищного фонда в виде архива с файлами выгрузки в формате CSV в разрезе субъектов РФ.\nДля скачивания архива нажмите на кнопку Скачать, расположенную над блоком поиска2.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nСкачиваемый архив размером порядка 3,7 Гигабайт, так что необходимо будет немного подождать полной загрузки.\n\n\nПосле скачивания и распаковки архива вы увидите набор файлов в формате .csv с данными по отдельным регионам.\n\n\n\n\n\n\n\n\nПолученные из ГИС ЖКХ данные не имеют явной географической привязки, а только адрес, поэтому для работы с ними, как с пространственными объектами требуют геокодирования.\n\nГеокодирование - процесс получения географических координат объектов на основе их адресов.\n\n\n\n\nИсточник: https://mappa-logistics.ru/tpost/bmgh0h3z81-sravnenie-geokoderov-kakoi-luchshe-vibra\n\n\n\n\nОднако перед геокодированием следует открыть данные и немного их подготовить.\nНо для геокодирования необходимо обработать строку с адресом таким образом, чтобы в ней содержалось только название улицы и номер дома, а также выделим название города в отдельную колонку.\nДля этого воспользуемся скриптом:\ndef add_sub_address_column(file_path):\n    new_file = f\"{file_path.split('.')[0]}_sub_address.{file_path.split('.')[1]}\"\n    with open(new_file, \"w\") as file_write: # открывается поток для записи файла\n        with open(file_path, \"rt\") as file_read: # открывается поток для записи файла\n          # потоки здесь нужны для того, чтобы открытый и записываемый файл в любом случае были закрыты вне зависимости от успешности выполнения\n            file_write.write(f\"Город|Адрес|{file_read.readline().replace(',', '')[1:]}\".replace('|', ',')) \n            # чтение заголовка таблицы, добавление в него двух колонок в начале, замена запятых на пробелы, а потом заменя | на запятые\n            for line in file_read: # для каждой строки в файле\n                address = line.strip().split(\"|\")[0]\n      # первый элемент строки\n                city = address.split(\",\") # разделение строки по запятым\n                if len(city) == 4:\n                    city = city[1].strip()\n                else:\n                    city = city[-3].strip()\n                try:\n                    city = city.split(\".\")[1].strip()\n                except IndexError:\n                    continue\n                sub_address = [str_.strip() for str_ in address.split(\",\")[-2:]]\n                sub_address_str = \" \".join(sub_address)\n                line = \",\".join(line.split(\"|\")[1:])\n                full_line = \",\".join([city, sub_address_str, f\"{line}\"])\n                file_write.write(full_line)\n\n\nadd_sub_address_column(file_path=\"путь к вашему файлу\")\nЗапустить готовый код можно напрямую из консоли python в QGIS: Модули \\(\\longrightarrow\\) Консоль python.\nКонсоль будет открыта в нижней части вашего окна QGIS. Для добавления вашего скрипта вы можете нажать на кнопку .\nПосле этого в правой части консоли появится небольшое окно для введения скрипта, в которое вы можете вставить нужный код.\n\n\n\n\n\nЗапуск кода осуществляется по кнопке Выполнить сценарий над вашим скриптом.\n\n\n\n\n\n\nWarning\n\n\n\nНе забудьте вставить в последней строке путь к тому файлу, который хотите обработать!\n\n\nПо результатам обработки в вашей папке с исходным файлом появится новый с названием “Сведения по ОЖФ Адыгея Респ на 23-02-2025_sub_address.csv”.\n\n\n\nСуществует большое количество сервисов геокодирования как с платным доступом, так и бесплатным. В нашем примере мы воспользуемся модулем MMQGIS3 и бесплатным сервисом геокодирования Nominatim4.\nДля работы с модулем прежде всего необходимо его установить. Установка может быть осуществлена из репозитория напрямую в программе: Модули \\(\\longrightarrow\\) Управление модулями.\n\n\n\n\n\nПосле установки модуль появится в вашей строке меню.\nДля геокодирования откроем модуль.\n\n\n\n\n\nВ открывшемся окне необходимо указать путь к файлу для геокодирования, колонки, в которых хранятся адрес и название города, а также путь к файлам для сохранения результатов.\n\n\n\n\n\n\nTip\n\n\n\nВ нашем случае город будет использоваться для повышения точности геокодирования, так как улицы с одинаковыми названиями и номерами домов могут находиться в разных городах.\n\n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nЗдесь мы используем бесплатный сервис, который не требует получения ключей, для использования остальных необходимо сначала получить ключ доступа API key.\nПодробнее про различные сервисы геокодирования и их использование можно почитать здесь и здесь.\n\n\n\n\n\n\n\n\nNote\n\n\n\nОбратите внимание, что в результате вы получите векторный файл в формате shapefile (.shp) с точками домов, координаты которых были определены при геокодировании, и текстовый файл в формате .csv для тех объектов, где координаты найдены не были.\n\n\nПолученный векторный слой будет сохранять в себе все колонки исходного файла, к которым будет присоединена колонка с координатами (latlong).\n\n\n\n\n\n\nImportant\n\n\n\nРезультатом геокодирования всегда будет точечный слой, поэтому если вам нужны полигоны домов, то их необходимо получить из другого источника (например, скачать из OSM) и присоединить к ним атрибуты с использованием инструмента Объединить по расположению.\n\n\n\n\n\n\n\n\nWarning\n\n\n\nНе забывайте, что shapefile - это коварный формат и вам нужен не только файл с расширением .shp, но и все другие с таким же именем, но другими расширениями.",
    "crumbs": [
      "Источники данных о территории",
      "Источники данных о характеристиках застройки"
    ]
  },
  {
    "objectID": "building-parameters.html#использование-готового-набора-данных",
    "href": "building-parameters.html#использование-готового-набора-данных",
    "title": "Источники данных о характеристиках застройки",
    "section": "2 Использование готового набора данных",
    "text": "2 Использование готового набора данных\n\n2.1 Карта возраста домов (How old is this house)\nДругим вариантом загрузки возрастов зданий для различных городов является использование готового обработанного набора данных проекта картографического издательства “Кон-Тики”.\nВ этом проекте собраны из различных источников сведения о возрасте домов для 80 наиболее крупных городов России по состоянию на 2022 год.\nДанные можно посмотреть на карте и скачать по ссылке.\nИспользованные в проекте источники данных показаны в таблице5.\n🔢 финальные характеристики здания (цифра означает приоритет)\n⏳ временно используемые вспомогательные данные\n🗑 данные игнорируются из-за редкости или низкого качества\n📍 точка (point)\n🟥 контур (polygon / multipolygon)\n\n\n\n\n\nадрес\nархитектор\nгеометрия\nгод\nназвание\nстиль\nфото\nэтажность\n\n\n\n\n«МинЖКХ»\n3️⃣\n\n⏳ 📍\n4️⃣\n\n\n\n2️⃣\n\n\nМинкультуры\n2️⃣\n\n⏳ 📍\n1️⃣\n3️⃣\n\n4️⃣\n\n\n\nОСМ\n1️⃣\n1️⃣\n1️⃣ 🟥\n3️⃣\n2️⃣\n1️⃣\n3️⃣\n1️⃣\n\n\nРосреестр\n4️⃣\n\n⏳ 📍\n5️⃣\n🗑\n\n\n3️⃣\n\n\nВикиданные\n🗑\n2️⃣\n⏳ 📍\n🗑\n1️⃣\n2️⃣\n1️⃣\n\n\n\nВикимапия\n🗑\n\n⏳ 🟥\n6️⃣\n5️⃣\n\n5️⃣\n\n\n\nВикигид\n5️⃣\n3️⃣\n⏳ 📍\n2️⃣\n4️⃣\n3️⃣\n2️⃣\n\n\n\n\nПодробнее описание процесса сбора данных описано в статье о проекте.\n\n\n\n\n\n\nNote\n\n\n\nЕсли вы достаточно любопытны и не боитесь работать с кодом и командной строкой, то можете попробовать создать аналогичный набор данных для любого города, воспользовавшись инструментом, созданным для проекта.\n\n\n\n\n2.2 Датасет Microsoft building footprints\nMicrosoft building footprints - это открытый набор данных с местоположением зданий, созданный на основе спутниковых снимков высокого разрешения.\nС помощью модели глубокого обучения была выполнена сегментация снимков с выделением контуров зданий, после чего полученные данные были векторизованы.\n\n\n\n\n\n\n\n\n\n\nДанные описаны в документации.\n\n\n\n\n\n\n\nNote\n\n\n\nКроме зданий по снимкам также были распознаны дороги, открытый набор данных с которыми можно скачать из репозитория.",
    "crumbs": [
      "Источники данных о территории",
      "Источники данных о характеристиках застройки"
    ]
  },
  {
    "objectID": "building-parameters.html#реестр-объектов-культурного-наследия-министерства-культуры",
    "href": "building-parameters.html#реестр-объектов-культурного-наследия-министерства-культуры",
    "title": "Источники данных о характеристиках застройки",
    "section": "3 Реестр объектов культурного наследия Министерства культуры",
    "text": "3 Реестр объектов культурного наследия Министерства культуры\nВ открытых данных Министерства культуры есть сведения реестра объектов культурного наследия (памятников истории и культуры) народов Российской Федерации - https://opendata.mkrf.ru/opendata/7705851331-egrkn\nВ соответствии с законодательством в них указаны:\n\nВ соответствии с нормами статьи 26 Федерального закона от 25 июня 2002 г. № 73-ФЗ физические и юридические лица вправе получать в Минкультуры России и в региональных органах охраны объектов культурного наследия выписку из реестра, содержащую сведения, указанные в пункте 2 статьи 20 Федерального закона, а именно сведения о наименовании объекта культурного наследия, сведения о времени возникновения или дате создания объекта, датах основных изменений (перестроек) данного объекта и (или) датах связанных с ним исторических событий, сведения о местонахождении объекта, а также о его виде и категории историко-культурного значения\nНа основании п. 10 статьи 20 Федерального закона от 25 июня 2002 г. № 73-ФЗ Министерством культуры Российской федерации выпущен Приказ 01 сентября 2015г. № 2328 “Об утверждении перечня отдельных сведений об объектах археологического наследия, которые не подлежат опубликованию”. В соответствии с этим приказом не публикуется ряд отдельных сведений об объектах археологического наследия.\n\nСведения о местонахождении объекта археологического наследия (адрес объекта или при его отсутствии описание местоположения объекта).\nФотографическое (иное графическое) изображение объекта археологического наследия.\nОписание границ территории объекта археологического наследия с приложением текстового описания местоположения этих границ, перечень координат характерных точек этих границ в системе координат, установленной для ведения государственного кадастра объектов недвижимости.\nСведения о наличии или об отсутствии зон охраны объекта археологического наследия.\nСведения о расположении объекта археологического наследия, имеющего вид “памятник” или “ансамбль”, в границах зон охраны иного объекта культурного наследия.\nСведения о предмете охраны объекта археологического наследия.\n\n\nВсе эти сведения можно просмотреть в виде таблицы и на карте, а также скачать (в том числе можно скачать различные исторические версии набора данных).\nСкачивание осуществляется в виде архива, в которм сведения хранятся либо в формате .json, либо в формате .csv.\nПолученные файлы содержат в себе координаты объектов культурного наследия в формате координат.\n{\"coordinates\":[82.920241,55.028734],\"type\":\"Point\"}\nВ похожем виде координаты в себе содержит и файл .json\n\n\n\n\n\n\nTip\n\n\n\nСкачанные файлы можно далее обработать, например, в Microsoft excel, аналогично тому, как это было показано в разделе Поиск по статьям Wikipedia",
    "crumbs": [
      "Источники данных о территории",
      "Источники данных о характеристиках застройки"
    ]
  },
  {
    "objectID": "building-parameters.html#footnotes",
    "href": "building-parameters.html#footnotes",
    "title": "Источники данных о характеристиках застройки",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nПоиск объектов жилищного фонда - https://cdn.dom.gosuslugi.ru/webhelp/source/public_part/housing_search.html↩︎\nСкачивание архива с файлами выгрузки - https://cdn.dom.gosuslugi.ru/webhelp/source/public_part/download_archive.html↩︎\nСайт модуля и подробное описание его функций https://michaelminn.com/linux/mmqgis/↩︎\nОзнакомиться с работой сервиса и почитать про него подробнее можно на сайте https://nominatim.openstreetmap.org/ui/search.html↩︎\nИсточник: https://github.com/kachkaev/tooling-for-how-old-is-this-house↩︎",
    "crumbs": [
      "Источники данных о территории",
      "Источники данных о характеристиках застройки"
    ]
  },
  {
    "objectID": "image-classification.html",
    "href": "image-classification.html",
    "title": "Распознавание объектов на снимках",
    "section": "",
    "text": "Mapflow от компании GeoAlert - платформа для распознавания объектов на спутниковых снимках.\nСайт платформы - https://mapflow.ai/ru\nНа платформе реализованы модели сегментации, позволяющие распознавать на снимках:\n\nконтура фундаментов зданий;\nразличные типы лесной растительности;\nстроительные площадки;\nдороги;\nсельскохозяйственные поля.\n\nПодробная документация по работе с модулем приведена по ссылке.\nПосле регистрации на платформе вы можете использовать ее напрямую в браузере или с помощью одноименного модуля для QGIS.\n\n\n\n\n\n\nWarning\n\n\n\nРегистрация на платформе является обязательным условием использования сервиса, даже при работе через модуль.\n\n\n\n\n\n\n\nПосле установки значок модуля должен появиться в основной панели инструментов .\nПри первом запуске модуля вы увидите окно, в котором необходимо ввести ваш личный API токен для доступа к сервису.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nСервис не работает через прокси.\n\n\nОсновное окно плагина содержит две основных панели:\n\nпанель процессинга;\nвкладки с прочими настройками и источниками.\n\n\n\n\n\n\nПанель процессинга позволяет настроить обработку изображений.\n\n\n\n\n\n\n\n\nName of the field / button\nDescription\nОписание\n\n\n\n\nProcessing name\nName of your processing\nПользовательское название процесса\n\n\nArea\nThe area to be processed. This layer is automatically displayed in the drop-down list from the list of QGIS vector layers.\nОбласть для обработки\n\n\nData source\nBase imagery to be processed. By default Mapbox is selected, in the drop-down list you can also select satellite images of the commercial providers. You can open your image through the additional options button.\nИсточник данных для обработки. По умолчанию используется Mapbox, но доступен выбор других коммерческих провайдеров, а также вы можете открыть собственное изображение.\n\n\nShow preview\nA preview of your data source or, if it is not available, an OpenStreetMap basemap\nПревью источника данных, при его отсутствии OpenStreetMap\n\n\nUse image extent\nThis area becomes active if processing is performed on the .tif file. Allows you not to create an additional vector layer processing area for this image but takes its extent.\nИспользовать охват изображения. Становится активным только при использовании .tif. Позволяет не создавать отдельный слой для задания области обработки, а просто использовать охват изображения.\n\n\nProcessing area\nAutomatic calculation of the area of the selected processing area.\nОбласть обработки\n\n\nAI Model\nProcessing type. In the drop-down list, you can select the following processing types (default list of processing scenarios): Building Detection, Roads Detection, Forest Detection, Forest Detection With Heights, Construction Detection, Fields Detection.\nТип используемой модели. Список моделей по умолчанию:\n\nдетекция зданий;\nдетекция дорог;\nдетекция лесной растительности;\nдетекция лесной растительности с высотами древостоя;\nдетекция стройплощадок;\nдетекция полей.\n\n\n\nYour balance\nRemaining area available for processing\nОставшееся количество кредитов для процессинга\n\n\nStart processing\nNew processing start button. You will see a notification about the successful start of processing, or about incorrectly selected parameters after clicking it. It will appear in the block for displaying and working with processing after a successful start of processing.\nКнопка старта обработки\n\n\nStars for rating\nRating scores for the finished processing\nРейтинг обработки\n\n\nFeedback field\nComments about rating\nКомментарии\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nСервис является условно бесплатным, то есть при регистрации вы получаете 250 кредитов для обработки, после их использования можно пополнять свой баланс в личном кабинете.\nСтоимость обработки рассчитывается по формуле1:\nСтоимость = Площадь * (Стоимость обработки + Стоимость данных)\n\n\n\n\n\n\n\n\nМодель\nБазовая цена\nПост-процессинг\n\n\n\n\nЗдания\n5\nКлассификация: 0\nСимплификация: 3\nВысоты зданий: 20\nСклейка с OpenSteeetMap: 0\n\n\nЗдания (Аэрофото)\n25\nСимплификация: 3\n\n\nСтроительство\n4\n-\n\n\nЛес\n8\nКлассификация по Высотам: 20\n\n\nДороги\n5\n-\n\n\n\nПри использовании поставщиков данных по умолчанию (Mapbox, Arcgis Satellite), собственного источника TMS или загруженных изображений цена равна нулю. Если вы используете коммерческих поставщиков («Global mosaic» и другие, которые могут быть доступны), стоимость данных зависит от уровня масштабирования. Мы сотрудничаем с поставщиками данных, а это означает, что стоимость услуги зависит от платного трафика, поэтому мы масштабируем цены в зависимости от разрешения изображения для более точной модели ценообразования.\n\n\n\nПоставщик данных\n18 zoom\n17 zoom\n16 zoom\n\n\n\n\nMapbox\n0\n0\n0\n\n\nArcGIS WorldView\n0\n0\n0\n\n\nВаш источник\n0\n0\n0\n\n\nВаше изображение TIFF\n0\n0\n0\n\n\nGlobal mosaic\n10\n2.5\n1\n\n\n\nПример расчета стоимости обработки\nЯ хочу обработать 3.3 кв.км данных Global Mosaic на 18 зуме использую модель Зданий\nСтоимость = 3.3 * (10+5) = 50 кредитов\n\n\nВ правой части окна 5 основных вкладок:\n\nProcessing (Обработка)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nName of the field\nDescription\nОписание\n\n\n\n\nName\nYour processing name.\nИмя обработки\n\n\nModel\nUser-selected item from the list of available models.\nИспользуемая модель\n\n\nStatus\nProcessing status: IN_PROGRESS, OK, FAILED.\nСтатус обработки\n\n\nProgress\nThe percentage of completeness of the processing.\nПроцент завершенности\n\n\nArea\nThe processing area (AOI).\nПлощадь области обработки\n\n\nCreated\nThe date-time of the processing creation.\nДата обработки\n\n\n\n\n\n\n\n\n\n\n\nName of the button\nDescription\nОписание\n\n\n\n\nView results\nShows the results of completed processing in QGIS layers.\nОтображение результатов\n\n\nDelete\nDeletes selected processing/processings.\nУдаление обработок\n\n\nSave results\nSaves processing results to GeoJSON file.\nСохранение результатов\n\n\nDownload AOI\nAdds processing AOI to qgis as a layer, for further work or export.\nДобавление области обработки как слой\n\n\nSee details\nShows information about processing (Name, Status, Model, Model options, Data provider).\nИнформация об обработке\n\n\nRename\nRenames your processing.\nПереименование\n\n\n\n\nImagery search (Поиск снимков)\n\n\n\n\n\n\n\nMy imagery (Мои снимки)\n\n\n\n\nОсновной сценарий работы с собственными снимками\n\n\n\n\n\n\n\n\n\n\nОбработка собственных снимков\n\n\n\n\n\n\n\n\nSettings\n\n\n\n\n\n\n\nHelp\n\nДля начала обработки изображений необходимо выбрать интересующуя вас область. Это можно сделать несколькими способами:\n\nсоздать новую область по охвату карты;\nдобавить полигон из векторного файла;\nнарисовать область на карте;\nиспользовать охват снимка.\n\n\n\n\n\n\nДалее следует найти подходящий снимок:\n\nпереключиться на вкладку “Imagery Search”;\nустановить параметры поиска, включая область, период времени, облачность и процент пересечения с областью исследования;\nвыбрать мозаику (“Product type = Mosaic”), в окне появится изображение и край конкретного снимка.\n\n\n\n\n\n\nПосле обработки вы увидите результат в месте пересечения снимка и области исследования.\n\n\n\n\n\nИсточники данных по умолчанию:\n\nMapbox Satellite - провайдер глоабльных данных высокого размершения (нельзя выбирать изображение и дату съемки);\n“Global mosaic” - пробная версия мозаики снимков высокого разрешения (0,75 - 0,5 м/пиксель) для 2022 года. Охват ограничен, обновление планируется ежегодно.\n\nТакже можно самостоятельно добавлять провайдеров данных во вкладке Providers.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nКак подключиться к некоторым провайдерам данных:\n\nHow to connect to Openaerialmap\nHow to connect to Nearmap\n\n\n\nСобственное изображение можно загрузить в формате .GeoTIFF.\n\n\n\n\n\nПосле завершения обработки результаты будут загружены в проект как векторный слой. Полученные результаты могут быть сохранены в формате geojson."
  },
  {
    "objectID": "image-classification.html#модуль-от-mapflow-ai",
    "href": "image-classification.html#модуль-от-mapflow-ai",
    "title": "Распознавание объектов на снимках",
    "section": "",
    "text": "Mapflow от компании GeoAlert - платформа для распознавания объектов на спутниковых снимках.\nСайт платформы - https://mapflow.ai/ru\nНа платформе реализованы модели сегментации, позволяющие распознавать на снимках:\n\nконтура фундаментов зданий;\nразличные типы лесной растительности;\nстроительные площадки;\nдороги;\nсельскохозяйственные поля.\n\nПодробная документация по работе с модулем приведена по ссылке.\nПосле регистрации на платформе вы можете использовать ее напрямую в браузере или с помощью одноименного модуля для QGIS.\n\n\n\n\n\n\nWarning\n\n\n\nРегистрация на платформе является обязательным условием использования сервиса, даже при работе через модуль.\n\n\n\n\n\n\n\nПосле установки значок модуля должен появиться в основной панели инструментов .\nПри первом запуске модуля вы увидите окно, в котором необходимо ввести ваш личный API токен для доступа к сервису.\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nСервис не работает через прокси.\n\n\nОсновное окно плагина содержит две основных панели:\n\nпанель процессинга;\nвкладки с прочими настройками и источниками.\n\n\n\n\n\n\nПанель процессинга позволяет настроить обработку изображений.\n\n\n\n\n\n\n\n\nName of the field / button\nDescription\nОписание\n\n\n\n\nProcessing name\nName of your processing\nПользовательское название процесса\n\n\nArea\nThe area to be processed. This layer is automatically displayed in the drop-down list from the list of QGIS vector layers.\nОбласть для обработки\n\n\nData source\nBase imagery to be processed. By default Mapbox is selected, in the drop-down list you can also select satellite images of the commercial providers. You can open your image through the additional options button.\nИсточник данных для обработки. По умолчанию используется Mapbox, но доступен выбор других коммерческих провайдеров, а также вы можете открыть собственное изображение.\n\n\nShow preview\nA preview of your data source or, if it is not available, an OpenStreetMap basemap\nПревью источника данных, при его отсутствии OpenStreetMap\n\n\nUse image extent\nThis area becomes active if processing is performed on the .tif file. Allows you not to create an additional vector layer processing area for this image but takes its extent.\nИспользовать охват изображения. Становится активным только при использовании .tif. Позволяет не создавать отдельный слой для задания области обработки, а просто использовать охват изображения.\n\n\nProcessing area\nAutomatic calculation of the area of the selected processing area.\nОбласть обработки\n\n\nAI Model\nProcessing type. In the drop-down list, you can select the following processing types (default list of processing scenarios): Building Detection, Roads Detection, Forest Detection, Forest Detection With Heights, Construction Detection, Fields Detection.\nТип используемой модели. Список моделей по умолчанию:\n\nдетекция зданий;\nдетекция дорог;\nдетекция лесной растительности;\nдетекция лесной растительности с высотами древостоя;\nдетекция стройплощадок;\nдетекция полей.\n\n\n\nYour balance\nRemaining area available for processing\nОставшееся количество кредитов для процессинга\n\n\nStart processing\nNew processing start button. You will see a notification about the successful start of processing, or about incorrectly selected parameters after clicking it. It will appear in the block for displaying and working with processing after a successful start of processing.\nКнопка старта обработки\n\n\nStars for rating\nRating scores for the finished processing\nРейтинг обработки\n\n\nFeedback field\nComments about rating\nКомментарии\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nСервис является условно бесплатным, то есть при регистрации вы получаете 250 кредитов для обработки, после их использования можно пополнять свой баланс в личном кабинете.\nСтоимость обработки рассчитывается по формуле1:\nСтоимость = Площадь * (Стоимость обработки + Стоимость данных)\n\n\n\n\n\n\n\n\nМодель\nБазовая цена\nПост-процессинг\n\n\n\n\nЗдания\n5\nКлассификация: 0\nСимплификация: 3\nВысоты зданий: 20\nСклейка с OpenSteeetMap: 0\n\n\nЗдания (Аэрофото)\n25\nСимплификация: 3\n\n\nСтроительство\n4\n-\n\n\nЛес\n8\nКлассификация по Высотам: 20\n\n\nДороги\n5\n-\n\n\n\nПри использовании поставщиков данных по умолчанию (Mapbox, Arcgis Satellite), собственного источника TMS или загруженных изображений цена равна нулю. Если вы используете коммерческих поставщиков («Global mosaic» и другие, которые могут быть доступны), стоимость данных зависит от уровня масштабирования. Мы сотрудничаем с поставщиками данных, а это означает, что стоимость услуги зависит от платного трафика, поэтому мы масштабируем цены в зависимости от разрешения изображения для более точной модели ценообразования.\n\n\n\nПоставщик данных\n18 zoom\n17 zoom\n16 zoom\n\n\n\n\nMapbox\n0\n0\n0\n\n\nArcGIS WorldView\n0\n0\n0\n\n\nВаш источник\n0\n0\n0\n\n\nВаше изображение TIFF\n0\n0\n0\n\n\nGlobal mosaic\n10\n2.5\n1\n\n\n\nПример расчета стоимости обработки\nЯ хочу обработать 3.3 кв.км данных Global Mosaic на 18 зуме использую модель Зданий\nСтоимость = 3.3 * (10+5) = 50 кредитов\n\n\nВ правой части окна 5 основных вкладок:\n\nProcessing (Обработка)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nName of the field\nDescription\nОписание\n\n\n\n\nName\nYour processing name.\nИмя обработки\n\n\nModel\nUser-selected item from the list of available models.\nИспользуемая модель\n\n\nStatus\nProcessing status: IN_PROGRESS, OK, FAILED.\nСтатус обработки\n\n\nProgress\nThe percentage of completeness of the processing.\nПроцент завершенности\n\n\nArea\nThe processing area (AOI).\nПлощадь области обработки\n\n\nCreated\nThe date-time of the processing creation.\nДата обработки\n\n\n\n\n\n\n\n\n\n\n\nName of the button\nDescription\nОписание\n\n\n\n\nView results\nShows the results of completed processing in QGIS layers.\nОтображение результатов\n\n\nDelete\nDeletes selected processing/processings.\nУдаление обработок\n\n\nSave results\nSaves processing results to GeoJSON file.\nСохранение результатов\n\n\nDownload AOI\nAdds processing AOI to qgis as a layer, for further work or export.\nДобавление области обработки как слой\n\n\nSee details\nShows information about processing (Name, Status, Model, Model options, Data provider).\nИнформация об обработке\n\n\nRename\nRenames your processing.\nПереименование\n\n\n\n\nImagery search (Поиск снимков)\n\n\n\n\n\n\n\nMy imagery (Мои снимки)\n\n\n\n\nОсновной сценарий работы с собственными снимками\n\n\n\n\n\n\n\n\n\n\nОбработка собственных снимков\n\n\n\n\n\n\n\n\nSettings\n\n\n\n\n\n\n\nHelp\n\nДля начала обработки изображений необходимо выбрать интересующуя вас область. Это можно сделать несколькими способами:\n\nсоздать новую область по охвату карты;\nдобавить полигон из векторного файла;\nнарисовать область на карте;\nиспользовать охват снимка.\n\n\n\n\n\n\nДалее следует найти подходящий снимок:\n\nпереключиться на вкладку “Imagery Search”;\nустановить параметры поиска, включая область, период времени, облачность и процент пересечения с областью исследования;\nвыбрать мозаику (“Product type = Mosaic”), в окне появится изображение и край конкретного снимка.\n\n\n\n\n\n\nПосле обработки вы увидите результат в месте пересечения снимка и области исследования.\n\n\n\n\n\nИсточники данных по умолчанию:\n\nMapbox Satellite - провайдер глоабльных данных высокого размершения (нельзя выбирать изображение и дату съемки);\n“Global mosaic” - пробная версия мозаики снимков высокого разрешения (0,75 - 0,5 м/пиксель) для 2022 года. Охват ограничен, обновление планируется ежегодно.\n\nТакже можно самостоятельно добавлять провайдеров данных во вкладке Providers.\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nКак подключиться к некоторым провайдерам данных:\n\nHow to connect to Openaerialmap\nHow to connect to Nearmap\n\n\n\nСобственное изображение можно загрузить в формате .GeoTIFF.\n\n\n\n\n\nПосле завершения обработки результаты будут загружены в проект как векторный слой. Полученные результаты могут быть сохранены в формате geojson."
  },
  {
    "objectID": "image-classification.html#модуль-semi-automatic-classification-plugin",
    "href": "image-classification.html#модуль-semi-automatic-classification-plugin",
    "title": "Распознавание объектов на снимках",
    "section": "2 Модуль Semi-automatic classification plugin",
    "text": "2 Модуль Semi-automatic classification plugin"
  },
  {
    "objectID": "image-classification.html#footnotes",
    "href": "image-classification.html#footnotes",
    "title": "Распознавание объектов на снимках",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nhttps://ru.docs.mapflow.ai/userguides/prices.html↩︎"
  }
]